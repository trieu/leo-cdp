<div class="container-fluid">

    <!-- MAIN BODY here -->
     <div class="row">
        <div class="col-lg-9">
            <h2 class="page-header"> <span> Audience Hub  </span> &#8594; <span> Audience Profiles </span> </h2>
        </div>
        <div class="col-lg-3 text-center" style="padding: 10px">
        	<button type="button" class="btn btn-primary" onclick="loadDataProfileList()" > New Profile </button>
	        <button type="button" class="btn btn-primary" onclick="loadDataProfileList()" > Import Profiles </button>
        </div>
    </div>
    
    <div class="row float-right">
		<div class='col-md-7  col-xs-12 text-center'>
			<h4> Data from <span> January 12, 2020 </span> to  <span> May 11, 2020 </span></h4> 
		</div>
		 
        <div class='col-md-2 col-xs-12'>
            <div class="form-group">
                <div class='input-group date' id='beginFilterDate'>
                    <input type='text' class="form-control" autocomplete="off" /> <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
            </div>
        </div>
        <div class='col-md-2 col-xs-12'>
            <div class="form-group">
                <div class='input-group date' id='endFilterDate'>
                    <input type='text' class="form-control" autocomplete="off" /> <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                    </span>
                </div>
            </div>
        </div>
        
        <div class='col-md-1 col-xs-12'>
        	<button type="button" class="btn btn-primary" onclick="loadDataProfileList()" > Filter </button>
        </div>
        
    </div>

	<div class="row">
		<div class='col-md-9  col-xs-12 text-center'>
		</div>
		 <div class='col-md-3 col-xs-12'>
			
        </div>
	</div>
	<hr>
   

    <div class="row">
        <div class="col-lg-12">
            <div class="table-responsive">
                <table id="category-list" class="display" style="width:100%">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Description</th>
                            <th>Privacy Status</th>
                            <th>Creation Time</th>
                            <th>Modification Time</th>
                            <th>Navigation Order</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>

</div>

<script>
    function loadDataProfileList() {
        var usersession = lscache.get('usersession');
        if (usersession) {
            $('#category-list').DataTable({
                "order": [
                    [5, "asc"]
                ],
                "ajax": {
                    "url": baseAdminApi + '/category/list-all',
                    "type": "POST",
                    "contentType": 'application/x-www-form-urlencoded',
                    "data": function (d) {
                        d.usersession = usersession;
                    }
                },
                "columnDefs": [{
                        "render": function (data, type, row) {
                            var callJsStr = "#calljs-loadPagesOfCategory('" + row.key + "','"+data+"')";
                            return '<a title="' + data + '" href="' + callJsStr + '" >' + data + '</a>';
                        },
                        "targets": 1
                    },
                    {
                        "render": function (data, type, row) {
                            var num = parseInt(data);
                            if (num === 1) {
                                return '<i class="fa fa-envelope-open-o" style="font-size:16px">Protected</i>';
                            } else if (num < 0) {
                                return '<i class="fa fa-envelope-o" style="font-size:16px"> Private</i>';
                            }
                            return '<i class="fa fa-folder-o" style="font-size:16px"> Public</i>';
                        },
                        "targets": 3
                    },
                    {
                        "render": function (data, type, row) {
                            var date = LeoCmsApiUtil.formater.toDateString(data);
                            return date;
                        },
                        "targets": 4
                    },
                    {
                        "render": function (data, type, row) {
                            var date = LeoCmsApiUtil.formater.toDateString(data);
                            return date;
                        },
                        "targets": 5
                    },
                    {
                        "render": function (data, type, row) {
                            var callJsStr = "#calljs-loadCategoryForm('" + data + "')";
                            return '<a title="' + row.title + '" href="' + callJsStr + '" >Edit</a>';
                        },
                        "targets": 7
                    }
                ],
                "columns": [{
                        "data": "key"
                    },
                    {
                        "data": "name"
                    },
                    {
                        "data": "description"
                    },
                    {
                        "data": "privacyStatus"
                    },
                    {
                        "data": "creationTime"
                    },
                    {
                        "data": "modificationTime"
                    },
                    {
                        "data": "navigationOrder"
                    },
                    {
                        "data": "key"
                    }
                ]
            });
        }
    }    
</script>