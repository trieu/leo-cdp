<!DOCTYPE html>
<html lang="en">

<head>
	<base href="//{{baseStaticUrl}}/admin">

	<link id="page_favicon" href="data:image/png;base64,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"
	 rel="icon" type="image/x-icon" />

	<meta charset="utf-8">

	<meta content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=5, user-scalable=1" name="viewport"/>

	<meta http-equiv="X-UA-Compatible" content="IE=100"/>

	<title> {{pageTitle}} </title>
	<meta name="description" content="Leo CDP Admin"/>

	
	<!-- i18n Data Model -->
	<script src="/view/i18n/vn.js?admin=1"></script>
	
	<!-- LeoCMS Common Config here -->
	<script>
		window.baseStaticUrl = location.protocol +  '//{{baseStaticUrl}}';
		window.baseAdminApi = location.protocol + '//{{baseAdminApiUrl}}';
		window.baseUploadApi = location.protocol + '//{{baseUploaderUrl}}:9071';
		window.pageHeaderLogo = baseStaticUrl + '{{pageHeaderLogo}}';
		window.apiCacheEnabled = false;
	</script>

	<!-- Bootstrap Core CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	
	<!-- Custom CSS -->
	<link href="/public/css/sb-admin.css" rel="stylesheet" />
	<link href="/view/common-resources/admin.css?admin=1" rel="stylesheet" />

	<!-- MediaPlayer CSS -->
	<link rel="stylesheet" href="//{{baseStaticUrl}}/public/mediaplayer/mediaplayer.one.css">

	<!-- Custom Fonts and Icons -->
	<link href="/public/css/font-awesome.min.css" rel="stylesheet" />

	<!-- jQuery -->
	<script src="/public/js/utils/jquery.js"></script>
	<script src="/public/js/utils/jquery-ui.min.js"></script>

	<!-- handlebars library -->
	<script src="/public/js/utils/handlebars.min.js"></script>

	<!-- lodash library -->
	<script src="/public/js/utils/lodash.core.min.js"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="/public/js/utils/bootstrap-transition.js"></script>
	<script src="/public/js/utils/bootstrap-collapse.js"></script>
	<script src="/public/js/utils/bootstrap.min.js"></script>

	<!-- Util JavaScript -->
	<script src="/public/js/utils/moment.min.js"></script>
	<script src="/public/js/utils/bootstrap_datetimepicker.min.js"></script>

	<!-- datatable -->
	<link href="/public/js/datatablejs/datatables.min.css" rel="stylesheet">
	<script type="text/javascript" src="/public/js/datatablejs/datatables.min.js"></script>

	<!-- datatable -->
	<link href="/public/js/chosen/chosen.min.css" rel="stylesheet">
	<script src="/public/js/chosen/chosen.jquery.min.js"></script>

	<!-- tagsinput -->
	<link href="/public/js/tagsinput/tagsinput.css" rel="stylesheet">
	<script src="/public/js/tagsinput/tagsinput.min.js"></script>

	<!-- editable dom -->
	<link href="/public/css/bootstrap-editable.css" rel="stylesheet" />
	<script src="/public/js/utils/bootstrap-editable.min.js"></script>

	<!-- utils for CMS -->
	<script src="/public/js/utils/validator.js"></script>
	<script src="/public/js/utils/md5.js"></script>
	<script src="/public/js/utils/lscache.js"></script>	

	<!-- Trix - Rich Text Editor -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/trix/1.2.1/trix.css" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/trix/1.2.1/trix.js"></script>

	<!-- CSS File Uploader with Filepond -->
	<link href="/public/js/filepond/filepond.css" rel="stylesheet">
	<link href="/public/js/filepond/filepond-plugin-image-preview.css" rel="stylesheet">

	<!-- autocomplete -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/easy-autocomplete/1.3.5/easy-autocomplete.themes.min.css" rel="stylesheet" />
	<link href="https://cdnjs.cloudflare.com/ajax/libs/easy-autocomplete/1.3.5/easy-autocomplete.min.css" rel="stylesheet" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/easy-autocomplete/1.3.5/jquery.easy-autocomplete.min.js"></script>

	<!-- pagination -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.5/pagination.css" rel="stylesheet" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.5/pagination.min.js"></script>

	
	
	<!-- Sankey Diagrams JS -->
	<script src="/public/js/skd3/sk.d3.js"></script>
	<link href="/public/js/skd3/sk.d3.css" rel="stylesheet" type="text/css" />
	
	<!-- RadarChart diagrams JS -->
	<script src="/public/js/utils/d3js.radarchart.js"></script>

	<!-- Chartjs -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.css" rel="stylesheet" type="text/css" >
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js"></script>

	<!-- CodeMirror for HTML Editor -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/codemirror.css" rel="stylesheet" />
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/codemirror.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/mode/xml/xml.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/mode/css/css.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/mode/javascript/javascript.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/mode/htmlmixed/htmlmixed.js"></script>
	<script src="/view/common-resources/codemirror.formatting.js?admin=1"></script>

	<!-- BotUI CSS and JS   -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/botui/0.3.9/botui.min.css" />
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/botui/0.3.9/botui-theme-default.css" />
	
	<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vertx/3.6.3/vertx-eventbus.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.11/vue.min.js"></script>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/botui/0.3.9/botui.min.js"></script>
	
	

</head>

<body>

	<div id="wrapper"></div>
	
	<div id="common_modalbox_html"></div>
	
	<div class="modal fade" id="ajaxLoaderDialog" role="dialog">
		<div class="modal-dialog">
			<!-- Modal content-->
			<div class="modal-content">            
				<div class="modal-body">
					<div class="loader"></div>
				</div>    
			</div>
		</div>
	</div>

	<!-- ///////////////////////////////////////////////////////////////////////////////////////////// -->



	<!-- Load FilePond library -->
	<script src="/public/js/filepond/filepond-plugin-image-crop.js"></script>
	<script src="/public/js/filepond/filepond-plugin-image-resize.js"></script>
	<script src="/public/js/filepond/filepond-plugin-image-preview.js"></script>
	<script src="/public/js/filepond/filepond-plugin-file-validate-size.js"></script>
	<script src="/public/js/filepond/filepond-plugin-image-exif-orientation.js"></script>
	<script src="/public/js/filepond/filepond-plugin-file-validate-type.js"></script>
	<script src="/public/js/filepond/filepond.js"></script>
	<script>
		FilePond.registerPlugin(
			FilePondPluginImagePreview,
			FilePondPluginImageResize,
			FilePondPluginImageCrop,
			FilePondPluginImageExifOrientation,
			FilePondPluginFileValidateSize,
			FilePondPluginFileValidateType
		);
		// global configs
		FilePond.setOptions({
			allowDrop: false,
			allowPaste: false,
			allowMultiple: false,
			allowFileTypeValidation: true
		});

		var setupUploaderWidget = function (refObjectClass, refObjectKey, domSelector, callback) {
			var fileUploaderUrl = window.baseUploadApi || '';
			var usersession = lscache.get('usersession');
			var inputNode = document.querySelector(domSelector);
			if (usersession && inputNode) {
				var isImageUploader = $(inputNode).attr('name') === 'image';
				var labelAction = isImageUploader ? 'Image' : "File";
				var headerObj = {
					'leouss': usersession,
					'refObjectClass': refObjectClass,
					'refObjectKey': refObjectKey
				};
				var urlStr = "/file-uploader";
				var processUploader = {
					url: urlStr,
					method: 'POST',
					headers: headerObj,
					withCredentials: false,
					onload: function (response) {
						var rs = JSON.parse(response);
						if (typeof callback === 'function') {
							callback(rs);
						}
						return true;
					},
					onerror: function (response) {
						console.error(response)
						return response.data;
					}
				}

				var serverConfig = {
					url: fileUploaderUrl,
					process: processUploader,
					revert: null,
					restore: null,
					load: null,
					fetch: null
				};

				var option = {};
				if (isImageUploader) {
					option = {
						labelIdle: '<span class="filepond--label-action"> Browse Image File </span>',
						acceptedFileTypes: ['image/png', 'image/jpeg', 'image/gif'],
						fileValidateTypeDetectType: (source, type) => new Promise((resolve, reject) => {
							// Do custom type detection here and return with
							// promise
							console.log('fileValidateTypeDetectType ', type);
							resolve(type);
						}),
						server: serverConfig
					}
				} else {
					option = {
						labelIdle: '<span class="filepond--label-action"> Browse Document File </span>',
						/*
        				acceptedFileTypes: ['image/png', 'image/jpeg', 'image/gif',
        					'text/plain', 'application/pdf', 'application/doc', 'application/docx',
        					'application/pptx', 'application/ppt', 'application/rtf', 'application/xlsx', 'application/xls',
        					"application/vnd.openxmlformats-officedocument.wordprocessingml.document",
        					"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
        					"application/vnd.openxmlformats-officedocument.presentationml.presentation"
        				],*/
						fileValidateTypeDetectType: (source, type) => new Promise((resolve, reject) => {
							console.log('fileValidateTypeDetectType ', source, type);
							resolve(type);
						}),
						server: serverConfig
					}
				}
				FilePond.create(inputNode, option);
			} else {
				console.error("usersession is null");
			}
		}

		window.mediaPlayerOneReady = function () {
			//jQuery.getScript("");
		}
	</script>
	<script src="//{{baseStaticUrl}}/public/mediaplayer/mediaplayer.one.min.js"></script>
	
	<!-- data visualization libs for report -->
	<script src="https://cdn.jsdelivr.net/npm/d3@4.13.0/build/d3.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/d3-time@1.0.10/dist/d3-time.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/d3-funnel@1.2.2/dist/d3-funnel.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/venn.js@0.2.20/build/venn.min.js"></script>
	
	<!-- mermaid-js -->
	<script src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js"></script>
	<script>
	    mermaid.mermaidAPI.initialize({
	        startOnLoad:false
	    });
    </script>
	
	<!-- Leo admin js -->
	<script src="//{{baseStaticUrl}}/view/common-resources/leo.admin.common.js?admin=1"></script>
	<script src="//{{baseStaticUrl}}/view/common-resources/leocdp.router.js?admin=1"></script>
	<script src="//{{baseStaticUrl}}/view/common-resources/leocdp.core-admin.js?admin=1"></script>
	

</body>

</html>