
<div>
     <div class="col-md-9" >
 		<h4 class="page-header" id="page_breadcrumb" > </h4>
 	 </div> 
     <div class="col-lg-3 text-center" style="padding: 10px">
     	<button type="button" class="btn btn-success" onclick="saveCurrentProfile()" > Save </button>
      	<button type="button" class="btn btn-danger" onclick="cancelAndGotoCustomerList()" > Cancel </button>
     </div>
</div>

<div class="container-fluid">

     <!-- MAIN BODY here -->

    <div class="row">
        <div class="col-md-4">
            <div class="text-center">
                <h3>Avatar</h3>
                <img src="https://randomuser.me/api/portraits/men/90.jpg"
	                       alt="Profile Avatar" class="rounded mx-auto d-block avatar">
            </div>
        </div>
        <div class="col-md-8">
            <h3> {{profile_attributes}} </h3>
            <table border=0 class="underlined" style="width: 100%;">
                <tr>
                    <td>
                       <ol id="personal_attributes" data-field="personal_attributes">
                       	   <li>
                                <b data-persona="key" class="editable_text" > <i class="fa fa-fw fa-id-badge"></i> First name </b> 
                                <p data-persona="value" class="editable_text" >   Trung </p>
                            </li>
                            <li>
                                <b data-persona="key" class="editable_text" > <i class="fa fa-fw fa-id-badge"></i> Last name </b> 
                                <p data-persona="value" class="editable_text" >  Nguyen Thanh  </p>
                            </li>
                           <li>
                               <b data-persona="key" class="editable_text" > <i class="fa fa-fw fa-male"></i>  Gender </b> 
                               <p data-persona="value" class="editable_text" > Male </p>
                           </li>
                           <li>
                               <b data-persona="key" class="editable_text" > <i class="fa fa-fw fa-user-circle-o"></i> Age </b> 
                               <p data-persona="value" class="editable_text" > 30 </p> 
                           </li>
                           <li>
                               <b data-persona="key" class="editable_text" > <i class="fa fa-fw fa-map-marker"></i> Living location  </b> 
                               <p data-persona="value" class="editable_text" > TP.HCM, Việt Nam  </p>
                           </li>
                           <li>
                               <b data-persona="key" class="editable_text" > <i class="fa fa-fw fa-envelope"></i> Primary email </b> 
                               <p data-persona="value" class="editable_text" >trungtn@bigdatavietnam.org</p>
                           </li>
                           <li>
                               <b data-persona="key" class="editable_text" > <i class="fa fa-fw fa-mobile"></i> Primary mobile phone  </b> 
                               <p data-persona="value" class="editable_text" >  0903122299 </p>
                           </li>
                       </ol>
                    </td>
                </tr>
            </table>
        </div>

    </div>

    <!--  Tab Navigation Items -->
       <ul class="nav nav-tabs" data-tab-content="profile_ext_data_tabs" >
       	  <li class="active" ><a href="javascript:" data-target-tab="panel_profile_business_data" > Business Data</a></li>
       	  <li ><a href="javascript:" data-target-tab="panel_profile_marketing_data" > Marketing Data</a></li>
       	  
		
	   </ul>
	    <!-- Tab Contents  -->
       <div class="tab-content" id="profile_ext_data_tabs" >
       
       		<div class="tab-pane active" id="panel_profile_business_data" >
       		
       		</div>
			
		 	<div class="tab-pane " id="panel_profile_marketing_data" >
		 		<!--  research -->
		 		    <div class="row">
				        <div class="col-md-6">
				            <h4> {{profile_expectations}} 
				                <span class="editable_add_item" data-target="persona_expectations"  ></span>  
				            </h4> 
				            
				            <table style="width: 100%;" class="plain">
				                <tr>
				                    <td>
				                        <ol id="persona_expectations" data-field="persona_expectations" >
				                            <li>
				                                <p class="editable_text"> đọc thử nội dung trước khi mua  </p>
				                            </li>
				                            <li>
				                                <p class="editable_text"> kiến thức phù hợp thực tế </p>
				                            </li>
				                            <li>
				                                <p class="editable_text"> tăng doanh thu bán hàng online </p>
				                            </li>
				                        </ol>
				                    </td>
				                </tr>
				            </table>
				        </div>
				
				        <div class="col-md-6">
				            <h4> {{profile_interests}}  
				                <span class="editable_add_item" data-target="persona_interests"  ></span>  
				            </h4>
				            <table style="width: 100%;" class="plain">
				                <tr>
				                    <td>
				                        <ol id="persona_interests" data-field="persona_interests" >
				                            <li>
				                                <p class="editable_text"> học hỏi kiến thức mới về công nghệ </p>
				                            </li>
				                            <li>
				                                <p class="editable_text"> phát triển kinh doanh, doanh nghiệp </p>
				                            </li>
				                            
				                        </ol>
				                    </td>
				                </tr>
				            </table>
				        </div>
				    </div>
				    <div class="line"></div>
				    
				    <!--  -->
				    <div class="row">

				        <div class="col-md-6">
				            <h4> {{profile_recommended_ideas}} 
				                <span class="editable_add_item" data-target="business_ideas"  ></span> 
				            </h4>
				            <table class="plain" style="width: 100%;">
				                <tr>
				                    <td>
				                        <ol id="business_ideas" data-field="business_ideas" >
				                            <li>
				                                <p class="editable_text"> Chủ đề sách về marketing 4.0 </p>
				                            </li>
				                            <li>
				                                <p class="editable_text"> Chủ đề sách về nền tảng công nghệ (Technology Platform) </p>
				                            </li>
				
				                        </ol>
				                    </td>
				                </tr>
				            </table>
				        </div>
				
				        <div class="col-md-6">
				            <h4> {{profile_recommended_solutions}}
				                <span class="editable_add_item" data-target="business_solutions"  ></span> 
				            </h4>
				            <table class="plain" style="width: 100%;">
				                <tr>
				                    <td>
				                        <ol id="business_solutions" data-field="business_solutions" >
				                            <li>
				                                <p class="editable_text"> Chạy marketing  "Marketing Cuộc Cách Mạng Công Nghệ 4.0" của Philip Kotler </p>
				                            </li>
				                            <li>
				                                <p class="editable_text"> Chạy marketing cuốn Platform Ứng Dụng </p>
				                            </li>
				                        </ol>
				                    </td>
				                </tr>
				            </table>
				        </div>
				
				    </div>
				    <div class="line"></div>
				    
				    <!--  -->
				    <div class="row">
				        <div class="col-md-6">
				            <h4> {{profile_media_channels}}
				                <span class="editable_add_item" data-target="persona_touchpoints"  ></span>
				            </h4>
				            <table class="plain">
				                <tr>
				                    <td>
				                        <ol id="persona_touchpoints" data-field="persona_touchpoints" >
				                         	
				                            <li>
				                                <p class="editable_text"> YouTube channel </p>
				                            </li>
				                            <li>
				                                <p class="editable_text"> E-commerce Website </p>
				                            </li>
				                           
				                        </ol>
				                    </td>
				                </tr>
				            </table>
				        </div>
				        <div class="col-md-6">
				        	<h4> {{profile_actions}} <span class="editable_add_item" data-target="conversion_actions" ></span> </h4>
				            <table class="plain" style="width: 100%;">
				                <tr>
				                    <td>
				                        <ol id="conversion_actions" data-field="conversion_actions" >
				                            <li>
				                                <p class="editable_text"> Add To Cart </p>
				                            </li>
				                            <li>
				                                <p class="editable_text"> Đọc thử </p>
				                            </li>
				                        </ol>
				                    </td>
				                </tr>
				            </table>
				        </div>
				    </div>
		 	</div>
		</div>

</div>
<br><br><br>

<script type="text/javascript">
    ///Js code
    
    function initProfileDataEditor(profileId) {
    	console.log(profileId);
    	setupTabPanels();
    	
    	//setup editable node
        $('.editable_text').each(function(){
            makeNodeEditable($(this))
        });

        //setup add new editable node
        var iconNode = '<i class="fa fa-plus-square" aria-hidden="true"></i>';
        $('.editable_add_item').html(iconNode).click(function(){
            var btnSelector = $(this);
            var target = btnSelector.data('target');
            console.log(target)
            
            var ele = false;
            if(target === 'persona_attributes'){
            	ele = $('<li> <b data-persona="key" class="editable_text" ></b> <p data-persona="value" class="editable_text" ></p> </li>');
            	$('#' + target ).append(ele);
                makeNodeEditable(ele.find('b'));
                makeNodeEditable(ele.find('p'));
            } else {
            	ele = $('<li> <p class="editable_text"> </p> </li>');
            	$('#' + target ).append(ele);
                makeNodeEditable(ele.find('p'));
            }
        });
    }
    
    function saveProfileData(){
    	var urlStr = baseAdminApi + '/cdp/profile/update';
        var params = {'objectJson': JSON.stringify(LeoCdpAdmin.routerContext.dataObject) };
    }
</script>
