<style>

    #customer_source {
    	width: 100%;
    	float: left;
    }
    
    #chart text, #customer_source text {
    	font-size: 14px;
    }
    
    svg {
    	margin: auto; display: block;
    }
    
</style>

<div class="container-fluid">

    <!-- MAIN BODY here -->
    <div class="row">
        <div class="col-lg-12">
            <h4 class="page-header" id="page_breadcrumb" > </h4>
        </div>
    </div>
    
    <!-- MAIN BODY here -->

    <div class="row">
        
        <div class="col-md-9 highlight_box">
        
         	<div class='text-center'>
				<h4>Reporting date: <span> January 12, 2020 </span> &#8594;  <span> May 11, 2020 </span></h4> 
			</div>
			
        	<div class="row float-right">
		        <div class='col-md-5 col-xs-12'>
		            <div class="form-group">
		                <div class='input-group date' id='beginFilterDate'>
		                    <input type='text' class="form-control" autocomplete="off" /> <span class="input-group-addon">
		                        <span class="glyphicon glyphicon-calendar"></span>
		                    </span>
		                </div>
		            </div>
		        </div>
		        <div class='col-md-5 col-xs-12'>
		            <div class="form-group">
		                <div class='input-group date' id='endFilterDate'>
		                    <input type='text' class="form-control" autocomplete="off" /> <span class="input-group-addon">
		                        <span class="glyphicon glyphicon-calendar"></span>
		                    </span>
		                </div>
		            </div>
		        </div>
		        <div class='col-md-2 col-xs-12 text-center'>
		        	<button type="button" class="btn btn-success" style="width: 86%"> OK </button>
		        </div>
		    </div>
	       
            <div class="row chart_box">
                <div class="col-md-6">
	                 <h4 class="chart_header text-center" >Behavioral Event Funnel</h4>
		           	 <div class="summary_metric">
		               <div class="vcenter">
		                  <div id="event_funnel"></div>
		               </div>
		           	</div>
             	</div>
	            <div class="col-md-6 ">
	                 <h4 class="chart_header text-center" >Customer Data Funnel</h4>
	                 <div id="profile_funnel"></div>
	            </div>
            </div>
        </div>
        
        <div class="col-md-3">
        	<div class="row chart_box">
	        	<h4 class="chart_header" > Total Customer Statistics</h4>
	            <div class="summary_metric">
	                <div class="vcenter">
	                   
	                    <h5> <span class="label label-default"> 33,801 </span> &nbsp; human profiles </h5>
	                    <h5> <span class="label label-default"> 63 </span> &nbsp; segments </h5>
	                    <h5> <span class="label label-default"> 12,432 </span> &nbsp; identified users </h5>
	                    <h5> <span class="label label-default"> 1,489 </span> &nbsp; customers </h5>
	                    <h5> <span class="label label-default"> 900 </span> &nbsp; new customers </h5>
	                    <h5> <span class="label label-default"> 589 </span> &nbsp; repeat customers </h5>
	 
	                </div>
	            </div>
	            
	            <h4 class="chart_header" > Total Event Statistics </h4>
	            <div class="summary_metric">
	                <div class="vcenter">
	                
	                    <h5> <span class="label label-default"> 61,656 </span> &nbsp; page views </h5>
	                    <h5> <span class="label label-default"> 8,152 </span> &nbsp; product info views </h5>
	                    <h5> <span class="label label-default"> 7,548 </span> &nbsp; product video views </h5>
	                    <h5> <span class="label label-default"> 2,262 </span> &nbsp; add-to-cart clicks </h5>
	                    <h5> <span class="label label-default"> 1,782 </span> &nbsp; purchases </h5>
	                	<h5> <span class="label label-default"> 921 </span> &nbsp; first-time purchases </h5>
	                	<h5> <span class="label label-default"> 861 </span> &nbsp; repeat purchases </h5>
	                    
	                </div>
	            </div>
        	</div>
        </div>
        
    </div>

    <div class="row chart_box" style="display: none;" >
     	<div class="col-md-3" >
     		<div id="customer_source" >
                <h4 class="chart_header" > Media Sources</h4>
            </div>
     	</div>
    	<div class="col-md-12">
	        <h4 class="chart_header" style="width: 100%;" > Total Visitor Statistics of Media Channels </h4>
	        <div id="chart" style="text-align:center;">
	            <svg></svg>
	        </div>
        </div>
    </div>

</div>
<br><br><br><br>

<script>
	//select date

    var initPrimaryDashboard = window.initPrimaryDashboard || function () {
		
    	initDateFilterComponent();
        loadProfileFunnel();
        loadEventFunnel();
        
        //loadChannelPerformance();
      	//loadCustomerVenn();
    }

    function loadProfileFunnel() {
        var data = [
            ['Visitor', '', '#2980B9'],
	        ['Engaged Visitor', '', '#5499C7'],
	        ['Customer Lead', '', '#2e86c1'],
	        ['Prospective Customer', '', '#2874a6'],
	        ['First-time Customer', '', '#21618c'],
	        ['Customer Advocate', '', '#1b4f72'],
	        ['Repeat Customer', '', '#154360']
        ];
        var options = {
      		block: {
      			highlight: true
      	    },
            chart: {
                curve: {
                    enabled: true,
                    height: 20
                },
                bottomWidth : 0.50,
                height: 380
            },
            tooltip: {
                enabled: true
            },
            label: {
                fontSize: '11px'
            },
            events: {
                click: {
                    block: function (data) {
                        console.log(data.label.raw);
                    }
                }
            }
        };
        var chart = new D3Funnel('#profile_funnel');
        chart.draw(data, options);
    }
    
   
    function loadEventFunnel() {
        var data = [
        	['Content View', '', '#1E90FF'],
	        ['Product View', '', '#4169E1'],
	        ['Customer Login','', '#6495ED'],
	        ['Purchase Intent', '', '#4169E1'],
	        ['First Purchase', '', '#0000FF'],
	        ['Product Experience', '', '#4169E1'],
	        ['Repeat Purchase', '', '#00008B']
        ];
        var options = {
      		block: {
      			highlight: true
      	    },
            chart: {
            	curve: {
                    enabled: true,
                    height: 20
                },
                bottomWidth : 0.50,
                height: 380
            },
            tooltip: {
                enabled: true
            },
            label: {
                fontSize: '11px'
            },
            events: {
                click: {
                    block: function (data) {
                        console.log(data.label.raw);
                    }
                }
            }
        };
        var chart = new D3Funnel('#event_funnel');
        chart.draw(data, options);
    }

    
</script>