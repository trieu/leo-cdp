(function(e,v,m,p){var q=function(b){var a,d,c;for(d=1;d<arguments.length;d++)for(c in a=arguments[d],a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},r=function(b,a,d){var c=Object.prototype.toString.call(a),g=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c);else if(a.on)a.on(b,c);else if(a.attachEvent)a.attachEvent("on"+b,c);else throw Error("object has no mechanism for adding event listeners");},f;switch(c){case "[object String]":g(b,a,d);break;case "[object Array]":f=0;for(c=a.length;f<
c;f++)g(b,a[f],d);break;case "[object Object]":for(f in a)a.hasOwnProperty(f)&&g(b,f,a[f]);break;default:throw Error("Unrecognized events parameter type: "+c);}return b},n=function(b){return(e.setImmediate||e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.setTimeout)(b,0)},h=function(b){b.ads.cancelPlayTimeout||(b.ads.cancelPlayTimeout=n(function(){b.ads.cancelPlayTimeout=null;b.paused()||b.pause()}))},k=function(b,a){for(var d=b.className.split(/\s+/),c=d.length,
g=[];c--;)d[c]!==a&&g.push(d[c]);b.className=g.join(" ")},t=function(b,a){var d=b.el().querySelector(".vjs-tech"),c=20,g=function(){b.currentTime(a.currentTime);b.ended()||b.play()},f=function(){d.seekable===p?g():0<d.seekable.length?g():c--&&setTimeout(f,50)};a.nativePoster&&(d.poster=a.nativePoster);(b.src()?b.src()!==a.src:b.currentSrc()!==a.src)?(b.src({src:a.src,type:a.type}),b.load(),b.one("loadedmetadata",f)):b.ended()||b.play()},l=function(b){(b=b.el().querySelector(".vjs-tech"))&&b.removeAttribute("poster")},
u={timeout:5E3,prerollTimeout:100,debug:!1};m.plugin("ads",function(b){var a=this,d=q({},u,b||{});a.ads={state:"content-set",startLinearAdMode:function(){a.trigger("adstart")},endLinearAdMode:function(){a.trigger("adend")}};b=function(b){var g={"content-set":{events:{adsready:function(){this.state="ads-ready"},play:function(){this.state="ads-ready?";h(a);l(a)}}},"ads-ready":{events:{play:function(){this.state="preroll?";h(a)}}},"preroll?":{enter:function(){a.el().className+=" vjs-ad-loading";a.ads.timeout=
e.setTimeout(function(){a.trigger("adtimeout")},d.prerollTimeout);a.trigger("readyforpreroll")},leave:function(){e.clearTimeout(a.ads.timeout);(e.clearImmediate||e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.clearTimeout)(a.ads.cancelPlayTimeout);a.ads.cancelPlayTimeout=null;k(a.el(),"vjs-ad-loading")},events:{play:function(){h(a)},adstart:function(){this.state="ad-playback";a.el().className+=" vjs-ad-playing"},adtimeout:function(){this.state="content-playback";
a.play()}}},"ads-ready?":{enter:function(){a.el().className+=" vjs-ad-loading";a.ads.timeout=e.setTimeout(function(){a.trigger("adtimeout")},d.timeout)},leave:function(){e.clearTimeout(a.ads.timeout);k(a.el(),"vjs-ad-loading")},events:{play:function(){h(a)},adsready:function(){this.state="preroll?"},adtimeout:function(){this.state="ad-timeout-playback"}}},"ad-timeout-playback":{events:{adsready:function(){a.paused()?this.state="ads-ready":this.state="preroll?"},contentupdate:function(){a.paused()?
this.state="content-set":this.state="ads-ready?"}}},"ad-playback":{enter:function(){var b=a.el().querySelector(".vjs-tech"),c={src:a.currentSrc(),currentTime:a.currentTime(),type:a.currentType()};b&&(c.nativePoster=b.poster);this.snapshot=c;l(a)},leave:function(){k(a.el(),"vjs-ad-playing");t(a,this.snapshot)},events:{adend:function(){this.state="content-playback"}}},"content-playback":{events:{adstart:function(){this.state="ad-playback";a.el().className+=" vjs-ad-playing";l(a)},contentupdate:function(){a.paused()?
this.state="content-set":this.state="ads-ready?"}}}};(function(f){var e=function(){};(g[f].events[b.type]||e).apply(a.ads);f!==a.ads.state&&((g[f].leave||e).apply(a.ads),(g[a.ads.state].enter||e).apply(a.ads),d.debug&&videojs.log("ads",f+" -> "+a.ads.state))})(a.ads.state)};r(a,m.Html5.Events.concat(["adtimeout","contentupdate","adsready","adstart","adend"]),b);a.ads.contentSrc=a.currentSrc();(function(){var b=function(){var b;"ad-playback"!==a.ads.state&&(b=a.currentSrc(),b!==a.ads.contentSrc&&(a.trigger({type:"contentupdate",
oldValue:a.ads.contentSrc,newValue:b}),a.ads.contentSrc=b))};a.on("loadstart",b);n(b)})();a.paused()||b({type:"play"})})})(window,document,videojs);