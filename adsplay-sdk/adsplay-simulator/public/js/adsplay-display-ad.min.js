window.AdsPlayBannerReady||(!function(funcName,baseObj){function ready(){if(!readyFired){readyFired=!0;for(var i=0;i<readyList.length;i++)readyList[i].fn.call(window,readyList[i].ctx);readyList=[]}}function readyStateChange(){"complete"===document.readyState&&ready()}funcName=funcName||"AdsPlayBannerReady",baseObj=baseObj||window;var readyList=[],readyFired=!1,readyEventHandlersInstalled=!1;baseObj[funcName]=function(callback,context){if(readyFired)return void setTimeout(function(){callback(context)},1);readyList.push({fn:callback,ctx:context}),"complete"===document.readyState?setTimeout(ready,1):readyEventHandlersInstalled||(document.addEventListener?(document.addEventListener("DOMContentLoaded",ready,!1),window.addEventListener("load",ready,!1)):(document.attachEvent("onreadystatechange",readyStateChange),window.attachEvent("onload",ready)),readyEventHandlersInstalled=!0)}}("AdsPlayBannerReady",window),function(global,undefined){"use strict";var factory=function(window){if("object"!=typeof window.document)throw new Error("AdsPlayCookies.js requires a `window` with a `document` object");var AdsPlayCookies=function(key,value,options){return 1===arguments.length?AdsPlayCookies.get(key):AdsPlayCookies.set(key,value,options)};return AdsPlayCookies._document=window.document,AdsPlayCookies._cacheKeyPrefix="cookey.",AdsPlayCookies._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),AdsPlayCookies.defaults={path:"/",secure:!1},AdsPlayCookies.get=function(key){return AdsPlayCookies._cachedDocumentCookie!==AdsPlayCookies._document.cookie&&AdsPlayCookies._renewCache(),AdsPlayCookies._cache[AdsPlayCookies._cacheKeyPrefix+key]},AdsPlayCookies.set=function(key,value,options){return options=AdsPlayCookies._getExtendedOptions(options),options.expires=AdsPlayCookies._getExpiresDate(void 0===value?-1:options.expires),AdsPlayCookies._document.cookie=AdsPlayCookies._generateAdsPlayCookiestring(key,value,options),AdsPlayCookies},AdsPlayCookies.expire=function(key,options){return AdsPlayCookies.set(key,void 0,options)},AdsPlayCookies._getExtendedOptions=function(options){return{path:options&&options.path||AdsPlayCookies.defaults.path,domain:options&&options.domain||AdsPlayCookies.defaults.domain,expires:options&&options.expires||AdsPlayCookies.defaults.expires,secure:options&&void 0!==options.secure?options.secure:AdsPlayCookies.defaults.secure}},AdsPlayCookies._isValidDate=function(date){return"[object Date]"===Object.prototype.toString.call(date)&&!isNaN(date.getTime())},AdsPlayCookies._getExpiresDate=function(expires,now){if(now=now||new Date,"number"==typeof expires?expires=expires===1/0?AdsPlayCookies._maxExpireDate:new Date(now.getTime()+1e3*expires):"string"==typeof expires&&(expires=new Date(expires)),expires&&!AdsPlayCookies._isValidDate(expires))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return expires},AdsPlayCookies._generateAdsPlayCookiestring=function(key,value,options){key=key.replace(/[^#$&+\^`|]/g,encodeURIComponent),key=key.replace(/\(/g,"%28").replace(/\)/g,"%29"),value=(value+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),options=options||{};var AdsPlayCookiestring=key+"="+value;return AdsPlayCookiestring+=options.path?";path="+options.path:"",AdsPlayCookiestring+=options.domain?";domain="+options.domain:"",AdsPlayCookiestring+=options.expires?";expires="+options.expires.toUTCString():"",AdsPlayCookiestring+=options.secure?";secure":""},AdsPlayCookies._getCacheFromString=function(documentCookie){for(var cookieCache={},AdsPlayCookiesArray=documentCookie?documentCookie.split("; "):[],i=0;i<AdsPlayCookiesArray.length;i++){var cookieKvp=AdsPlayCookies._getKeyValuePairFromAdsPlayCookiestring(AdsPlayCookiesArray[i]);void 0===cookieCache[AdsPlayCookies._cacheKeyPrefix+cookieKvp.key]&&(cookieCache[AdsPlayCookies._cacheKeyPrefix+cookieKvp.key]=cookieKvp.value)}return cookieCache},AdsPlayCookies._getKeyValuePairFromAdsPlayCookiestring=function(AdsPlayCookiestring){var separatorIndex=AdsPlayCookiestring.indexOf("=");return separatorIndex=separatorIndex<0?AdsPlayCookiestring.length:separatorIndex,{key:decodeURIComponent(AdsPlayCookiestring.substr(0,separatorIndex)),value:decodeURIComponent(AdsPlayCookiestring.substr(separatorIndex+1))}},AdsPlayCookies._renewCache=function(){AdsPlayCookies._cache=AdsPlayCookies._getCacheFromString(AdsPlayCookies._document.cookie),AdsPlayCookies._cachedDocumentCookie=AdsPlayCookies._document.cookie},AdsPlayCookies._areEnabled=function(){var testKey="AdsPlayCookies.js",areEnabled="1"===AdsPlayCookies.set(testKey,1).get(testKey);return AdsPlayCookies.expire(testKey),areEnabled},AdsPlayCookies.enabled=AdsPlayCookies._areEnabled(),AdsPlayCookies},AdsPlayCookiesExport="object"==typeof global.document?factory(global):factory;"function"==typeof define&&define.amd?define(function(){return AdsPlayCookiesExport}):"object"==typeof exports?exports.AdsPlayCookies=AdsPlayCookiesExport:global.AdsPlayCookies=AdsPlayCookiesExport}("undefined"==typeof window?this:window),function(global,undefined){function callBeaconLogTracking(opts){opts=opts||{},opts.url=opts.url||null,opts.vars=opts.vars||{},opts.error=opts.error||function(){},opts.success=opts.success||function(){},opts.vars.cb=Math.floor(1e13*Math.random());var varsArray=[];for(var key in opts.vars)varsArray.push(encodeURIComponent(key)+"="+encodeURIComponent(opts.vars[key]));var qString=varsArray.join("&");if(opts.url){var beacon=new Image;beacon.onerror&&(beacon.onerror=opts.error),beacon.onload&&(beacon.onload=opts.success),opts.noParameter?beacon.src=opts.url:beacon.src=opts.url+"?"+qString}}function generateUUID(){var d=(new Date).getTime();return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),("x"==c?r:3&r|8).toString(16)})}function getUUID(){var uuid=AdsPlayCookies.get("apluuid");return uuid||(uuid=generateUUID(),AdsPlayCookies.set("apluuid",uuid,{expires:315569520})),uuid}function ajaxCorsRequest(url,callback){var xhttp=new XMLHttpRequest;xhttp.onreadystatechange=function(){4==xhttp.readyState&&200==xhttp.status&&"function"==typeof callback&&callback(xhttp.responseText)},xhttp.onerror=function(){window.console&&window.console.error(" ajaxCorsRequest for URL: "+url)},xhttp.open("GET",url,!0),xhttp.withCredentials=!0,xhttp.send()}function getImageNode(title,width,height,srcUrl,adId,beacon,clickthroughUrl){var imgId="adsplay-iframe-ad-"+adId,img=document.createElement("img");img.setAttribute("style","width:"+width+"px;height:"+height+"px"),img.setAttribute("width",width),img.setAttribute("height",height),img.setAttribute("src",srcUrl),img.setAttribute("id",imgId);var ins=document.createElement("ins");ins.style.display="inline-table",ins.style.border="none",ins.style.margin="0px",ins.style.padding="0",ins.style.position="relative",ins.style["background-color"]="transparent",ins.style.width=width+"px",ins.setAttribute("title",title),ins.appendChild(img);var aNode=document.createElement("a");return aNode.setAttribute("href",clickthroughUrl),aNode.setAttribute("target","_blank"),aNode.setAttribute("id","adsplay-click-handle-"+adId),aNode.setAttribute("onclick","AdsPlayBanner.handleAdClick("+adId+")"),aNode.appendChild(ins),aNode}function getIframeNode(title,width,height,srcUrl,adId,beacon,clickTag){var iframeId="adsplay-iframe-ad-"+adId,iframe=document.createElement("iframe");iframe.setAttribute("frameborder","0"),iframe.setAttribute("marginwidth","0"),iframe.setAttribute("vspace","0"),iframe.setAttribute("hspace","0"),iframe.setAttribute("allowtransparency","true"),iframe.setAttribute("scrolling","no"),iframe.setAttribute("allowfullscreen","true"),iframe.setAttribute("style","left:0;position:absolute;top:0;"),iframe.setAttribute("allowfullscreen","true"),iframe.setAttribute("width",width),iframe.setAttribute("height",height),iframe.setAttribute("src",srcUrl),iframe.setAttribute("id",iframeId);var ins=document.createElement("ins");return ins.style.display="inline-table",ins.style.border="none",ins.style.margin="0px",ins.style.padding="0",ins.style.position="relative",ins.style["background-color"]="transparent",ins.style.width=width+"px",ins.setAttribute("title",title),ins.appendChild(iframe),ins}function processAdData(data,placementNode){var css="display:block;border:none;margin:0 auto;padding:0;position:relative;visibility:visible;background-color:transparent;text-align: center;",clickTag=data.clickthroughUrl,adUrl=data.adMedia,adId=data.adId,beacon=data.adBeacon,width=data.width>0?data.width+"px":"100%",height=data.height>0?data.height+"px":"100%",placementId=data.placementId,title=data.clickActionText,adType=data.adType,adCode=data.adCode,tracking3rdUrls=data.tracking3rdUrls||[];if(adBeacons[adId]=beacon,!placementNode.getAttribute("data-adsplay-adid")){placementNode.setAttribute("data-adsplay-adid",adId),placementNode.setAttribute("id","adsplay-holder"+ +adId);var displayOk=!1;if(5===adType){css=css+";width:"+width+";height:"+height,placementNode.setAttribute("style",css);var srcUrl=adUrl+"#adid="+adId+"&beacon="+beacon+"&clicktag="+clickTag,renderedAdNode=getIframeNode(title,width,height,srcUrl,adId,beacon,clickTag);placementNode.appendChild(renderedAdNode),displayOk=!0}else if(6===adType){css=css+";width:"+width+";height:"+height,placementNode.setAttribute("style",css);var renderedAdNode=getImageNode(title,width,height,adUrl,adId,beacon,clickTag);placementNode.appendChild(renderedAdNode),displayOk=!0}else if(9===adType&&""!=adCode){css=css+";width:"+width+";height:"+height,placementNode.setAttribute("style",css);var adIframe=document.createElement("iframe");adIframe.setAttribute("width",width),adIframe.setAttribute("height",height),adIframe.setAttribute("src","about:blank"),adIframe.setAttribute("frameborder","0"),adIframe.setAttribute("marginwidth","0"),adIframe.setAttribute("marginheight","0"),adIframe.setAttribute("vspace","0"),adIframe.setAttribute("hspace","0"),adIframe.setAttribute("allowtransparency","true"),adIframe.setAttribute("scrolling","no"),adIframe.setAttribute("allowfullscreen","true"),adIframe.setAttribute("id","adsplay_frame_"+placementId),placementNode.appendChild(adIframe),adIframe.contentDocument.write(adCode)}else if(11===adType){var renderedAdNode=renderMastheadView(data);placementNode.appendChild(renderedAdNode),placementId<300&&(css=css+";width:"+width+";height:"+height,placementNode.setAttribute("style",css)),displayOk=!0}if(displayOk){callBeaconLogTracking({url:baseUrlTrackingAds,vars:{metric:"impression",adid:adId,beacon:adBeacons[adId]}});for(var j=0;j<tracking3rdUrls.length;j++)callBeaconLogTracking({url:tracking3rdUrls[j],vars:{},noParameter:!0})}}}function renderMastheadView(data){function eventVideo(videoWrap){var video=videoWrap.querySelector("video");video.addEventListener("loadstart",function(){setTimeout(function(){video.play()},1e3*waiting)},!1)}function eventBehaviour(videoWrap){videoWrap.querySelector(".volume").addEventListener("click",function(){this.classList.contains("active")?(this.classList.remove("active"),this.style.backgroundImage="url("+volume_off+")",videoWrap.querySelector("video").muted=!0):(this.classList.add("active"),this.style.backgroundImage="url("+volume_on+")",videoWrap.querySelector("video").muted=!1)})}var waiting=0;if(data.placementId<300){var videoWrap=renderMastheadWeb(data);window.addEventListener("DOMContentLoaded",eventVideo(videoWrap),!1),eventBehaviour(videoWrap);var video=videoWrap.querySelector("video"),href=videoWrap.querySelector("a").getAttribute("href");return video.addEventListener("click",function(){window.open(href)},!1),videoWrap}var videoWrap=renderMastheadMobile(data);window.addEventListener("DOMContentLoaded",eventVideo(videoWrap),!1),eventBehaviour(videoWrap);var video=videoWrap.querySelector("video");return video.addEventListener("click",function(){this.paused?this.play():this.pause()},!1),videoWrap}function renderMastheadWeb(data){var adId=data.adId,textColor=data.textColor?data.textColor:"#fff",div=document.createElement("div");div.style.position="relative",div.className="masthead-web",div.style.cssText="position: relative; width: 970px; height: 250px; margin: 0 auto; font-family: sans-serif;";var bgImage=document.createElement("a"),href=data.clickthroughUrl?data.clickthroughUrl:"#";bgImage.setAttribute("href",href),bgImage.setAttribute("target","_blank"),bgImage.setAttribute("id","adsplay-click-handle-"+adId),bgImage.setAttribute("onclick","AdsPlayBanner.handleAdClick("+adId+")"),bgImage.style.cssText='background-image: url("'+data.background+'");background-color: #000;background-repeat: no-repeat;background-position: center center;background-size: cover;cursor: pointer;width: 100%;height: 100%;position: absolute;top: 0;left: 0;';var v=document.createElement("div");v.className="video",v.style.cssText="position:absolute; "+data.styleAttr;var vIframe="";if(void 0===data.adMedia||-1!=data.adMedia.indexOf("youtu.be")&&-1!=data.adMedia.indexOf("youtube")){var options="&";-1!=data.adMedia.indexOf("?")&&(options="?"),options+="rel=0&enablejsapi=1&autoplay=1&loop=1&iv_load_policy=3",vIframe='<iframe frameborder="0" allowfullscreen="1" width="100%" height="100%" src="'+data.adMedia+options+'"></iframe>'}else vIframe='<video width="100%" height="100%" poster="'+data.background+'" loop preload="auto" muted><source src="'+data.adMedia+'" type="video/mp4"></video>';v.innerHTML+=vIframe;var volumeStyle="position: absolute; top: 0; left: 0; z-idex: 999; width: 36pt; height: 36pt; opacity: 0.6;background-image: url("+volume_off+"); background-color: rgba(0, 0, 0, 0.2);background-repeat: no-repeat; background-size: contain;",volume='<div class="volume" style="'+volumeStyle+'">';v.innerHTML+=volume;var brand=document.createElement("div");brand.className="brand",brand.style.cssText="position: absolute; width: 40%; top: 50%; left: 80px; margin-top: -40px;";var styletable="display: table-cell;vertical-align: middle;";if(""==data.background){if(""!=data.brandIcon){var brandIcon='<div style="'+styletable+'"><img src="'+data.brandIcon+'" style="width: 80px; margin-right: 10px;" /></div>';brand.innerHTML+=brandIcon}var headlineText='<div style="'+styletable+'">\t\t\t\t\t\t\t\t\t<h4 style="margin: 0 0 5px;font-weight: 200;font-size: 22px;'+textColor+'">'+data.headlineText+'<a href="'+data.clickthroughUrl+'" style="'+textColor+'cursor: pointer;background-color: rgba(0, 0, 0, 0.8); border-radius: 6px; padding: 4px 8px; margin-left: 10px; font-size: 16px; text-decoration: none;" >'+data.clickActionText+"</a>";brand.innerHTML+=headlineText}var close='<a href="javascript:AdsPlayBanner.closeAdView('+adId+')" style="'+textColor+'cursor: pointer;position: absolute; top: 0; right: 5px;line-height: 25px;height: 25px; font-size: 12px;">Close Ad &#10060;</a>';return div.appendChild(bgImage),div.appendChild(v),div.appendChild(brand),div.innerHTML+=close,div}function renderMastheadMobile(data){var adId=data.adId,div=document.createElement("div");div.style.position="relative",div.className="masthead-mobile",div.style.cssText="position: relative; box-sizing: border-box; width: 100%; margin: 0; padding: 1%; font-family: sans-serif;";var styletable="display: table-cell;vertical-align: middle;",v=document.createElement("div");v.className="video",v.style.cssText="width: 100%;display: inline-block;position: relative;";var vAspectRatio=document.createElement("div");vAspectRatio.style.cssText="padding-top: 56.25%; display: block;";var vAspectMain=document.createElement("div");vAspectMain.style.cssText="position: absolute;top: 0;bottom: 0;right: 0;left: 0;",v.appendChild(vAspectRatio),v.appendChild(vAspectMain);var vIframe="";if(void 0===data.adMedia||-1!=data.adMedia.indexOf("youtu.be")&&-1!=data.adMedia.indexOf("youtube")){var options="&";-1!=data.adMedia.indexOf("?")&&(options="?"),options+="rel=0&enablejsapi=1&autoplay=1&loop=1&iv_load_policy=3",vIframe='<iframe frameborder="0" allowfullscreen="1" width="100%" height="100%" src="'+data.adMedia+options+'"></iframe>'}else vIframe='<video width="100%" height="100%" poster="'+data.background+'" loop muted preload="auto"><source src="'+data.adMedia+'" type="video/mp4"></video>';vAspectMain.innerHTML+=vIframe;var volumeStyle="position: absolute; top: 0; left: 0; z-idex: 999; width: 36pt; height: 36pt; opacity: 0.6;background-image: url("+volume_off+"); background-color: rgba(0, 0, 0, 0.2);background-repeat: no-repeat; background-size: contain;",volume='<div class="volume" style="'+volumeStyle+'"></div>';vAspectMain.innerHTML+=volume;var closeStyle="position: absolute; top: 0; right: 0; z-idex: 999; width: 36pt; height: 36pt; opacity: 0.8;background-image: url("+close_icon+"); background-color: rgba(0, 0, 0, 0.2);background-repeat: no-repeat; background-size: contain;",closeDiv='<div class="close" style="'+closeStyle+'" onclick="AdsPlayBanner.closeAdView('+adId+')" ></div>';vAspectMain.innerHTML+=closeDiv;var brand=document.createElement("div");if(brand.className="brand",brand.style.cssText="width:100%;",""!=data.brandIcon)if(1==data.align){var brandIcon='<div style="'+styletable+'width:20%;"><img src="'+data.brandIcon+'" style="max-width:100%;"/></div>';brand.innerHTML+=brandIcon}else v.style.cssText=styletable+"position:relative; width:30%; min-width: 160px;",brand.appendChild(v);if(""!=data.headlineText){var brandLink="";if(""!=data.clickthroughUrl){brandLink='<a onclick="'+("AdsPlayBanner.handleAdClick("+adId+")")+'" target="_blank" id="'+("adsplay-click-handle-"+adId)+'" style="font-size: 3.6vmax;color: #3f51b5;" href="'+data.clickthroughUrl+'">'+data.clickActionText+"</a>"}var brandText='<div style="'+styletable+'width:100%; text-align: left; padding-left:1.5%;">\t\t\t\t\t\t\t\t\t<h4 style="margin: 0 0 5px; font-weight: 100; font-size: 4.0vmax;">'+data.headlineText+'</h4>\t\t\t\t\t\t\t\t\t<div style="color: #777;font-size: 2.6vmax;">'+data.descriptionText+"</div>\t\t\t\t\t\t\t\t\t"+brandLink+"\t\t\t\t\t\t\t\t</div>";brand.innerHTML+=brandText}return 1==data.align&&div.appendChild(v),div.appendChild(brand),div}var volume_on="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4IiB3aWR0aD0iNDgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYgMTh2MTJoOGwxMCAxMFY4TDE0IDE4SDZ6bTI3IDZjMC0zLjUzLTIuMDQtNi41OC01LTguMDV2MTYuMTFjMi45Ni0xLjQ4IDUtNC41MyA1LTguMDZ6TTI4IDYuNDZ2NC4xM2M1Ljc4IDEuNzIgMTAgNy4wNyAxMCAxMy40MXMtNC4yMiAxMS42OS0xMCAxMy40MXY0LjEzYzguMDEtMS44MiAxNC04Ljk3IDE0LTE3LjU0UzM2LjAxIDguMjggMjggNi40NnoiLz48cGF0aCBkPSJNMCAwaDQ4djQ4SDB6IiBmaWxsPSJub25lIi8+PC9zdmc+",volume_off="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4IiB3aWR0aD0iNDgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTMzIDI0YzAtMy41My0yLjA0LTYuNTgtNS04LjA1djQuNDJsNC45MSA0LjkxYy4wNi0uNDIuMDktLjg1LjA5LTEuMjh6bTUgMGMwIDEuODgtLjQxIDMuNjUtMS4wOCA1LjI4bDMuMDMgMy4wM0M0MS4yNSAyOS44MiA0MiAyNyA0MiAyNGMwLTguNTYtNS45OS0xNS43Mi0xNC0xNy41NHY0LjEzYzUuNzggMS43MiAxMCA3LjA3IDEwIDEzLjQxek04LjU1IDZMNiA4LjU1IDE1LjQ1IDE4SDZ2MTJoOGwxMCAxMFYyNi41NWw4LjUxIDguNTFjLTEuMzQgMS4wMy0yLjg1IDEuODYtNC41MSAyLjM2djQuMTNjMi43NS0uNjMgNS4yNi0xLjg5IDcuMzctMy42MkwzOS40NSA0MiA0MiAzOS40NWwtMTgtMThMOC41NSA2ek0yNCA4bC00LjE4IDQuMThMMjQgMTYuMzZWOHoiLz48cGF0aCBkPSJNMCAwaDQ4djQ4SDB6IiBmaWxsPSJub25lIi8+PC9zdmc+",close_icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSI0OCIgdmlld0JveD0iMCAwIDQ4IDQ4IiB3aWR0aD0iNDgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTM4IDEyLjgzbC0yLjgzLTIuODMtMTEuMTcgMTEuMTctMTEuMTctMTEuMTctMi44MyAyLjgzIDExLjE3IDExLjE3LTExLjE3IDExLjE3IDIuODMgMi44MyAxMS4xNy0xMS4xNyAxMS4xNyAxMS4xNyAyLjgzLTIuODMtMTEuMTctMTEuMTd6Ii8+PHBhdGggZD0iTTAgMGg0OHY0OGgtNDh6IiBmaWxsPSJub25lIi8+PC9zdmc+",buildAdUrlRequest=function(placementIds){for(var time=(new Date).getTime(),q="uuid="+getUUID(),i=0;i<placementIds.length;i++)q+="&placement="+placementIds[i];q+="&referrer="+encodeURIComponent(document.referrer?document.referrer:""),q+="&url="+encodeURIComponent(document.location.href),q+="&cxt="+encodeURIComponent(document.title),q+="&t="+time;var adServerId="d4",ran=time%8;return 1===ran?adServerId="d1":2===ran?adServerId="d2":4===ran&&(adServerId="d4"),document.location.protocol+"//"+adServerId+".adsplay.net/delivery?"+q},AdsPlayBanner={};AdsPlayBanner.handleAdClick=function(adId){return callBeaconLogTracking({url:baseUrlTrackingAds,vars:{metric:"click",adid:adId,beacon:adBeacons[adId]}}),!0};var baseUrlTrackingAds=document.location.protocol+"//log.adsplay.net/track/ads",adBeacons={};AdsPlayBanner.closeAdView=function(adId){document.getElementById("adsplay-holder"+adId).remove(!0),global.MastheadWebviewNative&&(document.getElementsByTagName("body")[0].innerHTML="",global.MastheadWebviewNative.closeAdView())},AdsPlayBanner.getAds=function(pmIds,mapPmIdsNodes){var h=function(text){for(var ads=JSON.parse(text),i=0;i<ads.length;i++){var data=ads[i],placementId=data.placementId+"",pmNodes=mapPmIdsNodes[placementId];if(pmNodes){var node=pmNodes.pop();node&&processAdData(data,node)}}};ajaxCorsRequest(buildAdUrlRequest(pmIds)+"&at=display",h)},global.AdsPlayBanner=AdsPlayBanner;var AdsPlayTracker={};AdsPlayTracker.doImpressionLog=function(pmIds){var h=function(text){for(var ads=JSON.parse(text),i=0;i<ads.length;i++){var data=ads[i];data.timeToShow;if(10===data.adType){!function(data){var tracking3rdUrls=data.tracking3rdUrls;if("object"==typeof tracking3rdUrls)for(var i=0;i<tracking3rdUrls.length;i++){var obj=tracking3rdUrls[i];if(obj){var delay=1e3*obj.delay,url=obj.url;setTimeout(function(u){callBeaconLogTracking({url:u,vars:{}})},delay,url)}}}(data)}}};ajaxCorsRequest(buildAdUrlRequest(pmIds)+"&at=overlay",h)},global.AdsPlayTracker=AdsPlayTracker}("undefined"==typeof window?this:window),AdsPlayBannerReady(function(){for(var nodes=document.getElementsByClassName("adsplay-placement"),pmIds=[],mapPmIdsNodes=[],i=0;i<nodes.length;i++)if(nodes[i]){var spmid=nodes[i].getAttribute("id"),pmId=0;if("string"==typeof spmid)pmId=parseInt(spmid.replace("aplpm-","")),pmIds.push(pmId);else{var spmid=nodes[i].getAttribute("data-aplpm");"string"==typeof spmid&&(pmId=parseInt(spmid),pmIds.push(parseInt(spmid)))}if(pmId>0){var k=pmId+"";"object"!=typeof mapPmIdsNodes[k]&&(mapPmIdsNodes[k]=[]),mapPmIdsNodes[k].push(nodes[i])}}AdsPlayBanner.getAds(pmIds,mapPmIdsNodes);var meta=document.createElement("meta");meta.setAttribute("name","referrer"),meta.setAttribute("content","unsafe-url");var head=document.getElementsByTagName("head")[0];head&&head.appendChild(meta),setTimeout(function(){AdsPlayTracker.doImpressionLog([446])},3e3)}));