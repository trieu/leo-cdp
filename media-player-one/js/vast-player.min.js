//HadarOne Vast Player 1.1.9 <http://videoplayer.hadarone.com/> on August 9, 2018
window.isDesktop=!/Android|Silk|Mobile|PlayBook/.test(window.navigator.userAgent);window.mutedVideoAd=window.mutedVideoAd||!window.isDesktop;
(function(E){"object"===typeof exports&&"undefined"!==typeof module?module.exports=E():"function"===typeof define&&define.amd?define([],E):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).VASTPlayer=E()})(function(){return function a(b,l,k){function c(d,g){if(!l[d]){if(!b[d]){var f="function"==typeof require&&require;if(!g&&f)return f(d,!0);if(h)return h(d,!0);f=Error("Cannot find module '"+d+"'");throw f.code="MODULE_NOT_FOUND",f;}f=l[d]=
{exports:{}};b[d][0].call(f.exports,function(a){var f=b[d][1][a];return c(f?f:a)},f,f.exports,a,b,l,k)}return l[d].exports}for(var h="function"==typeof require&&require,g=0;g<k.length;g++)c(k[g]);return c}({1:[function(b,l,k){l.exports=b("./lib/VASTPlayer")},{"./lib/VASTPlayer":5}],2:[function(b,l,k){function a(a,d,c){d.on(a,function(){for(var d=[],f=arguments.length;f--;)d[f]=arguments[f];c.emit.apply(c,[a].concat(d))})}function c(c,d,f){f.forEach(function(f){0<d.listeners(f).length&&a(f,c,d)});
d.on("newListener",function(g){-1<f.indexOf(g)&&1>d.listeners(g).length&&a(g,c,d)})}function h(c){this.events=c.slice();this.__private__={target:null,source:null}}h.prototype.from=function(a){this.__private__.source=a;this.__private__.target&&c(a,this.__private__.target,this.events);return this};h.prototype.to=function(a){this.__private__.target=a;this.__private__.source&&c(this.__private__.source,a,this.events);return this};l.exports=h},{}],3:[function(b,l,k){function a(a){var d=this;c.call(this,
Math.floor(a.duration||0));this.video=a;[h.PLAYING,h.PAUSE,h.TIMEUPDATE].forEach(function(c){return a.addEventListener(c,function(){return d.tick()},!1)})}var c=b("./VideoTracker");k=b("util").inherits;var h=b("./enums/HTML_MEDIA_EVENTS");k(a,c);a.prototype._getState=function(){return{playing:!this.video.paused,currentTime:this.video.currentTime}};l.exports=a},{"./VideoTracker":7,"./enums/HTML_MEDIA_EVENTS":8,util:35}],4:[function(b,l,k){function a(a){return a}function c(a,c){(a||[]).forEach(function(a){(new Image).src=
c(a)})}function h(c,f){this.pixels=c.reduce(function(a,c){c&&(a[c.event]||(a[c.event]=[])).push(c.uri);return a},{});this.__private__={mapper:f||a}}var g=b("./enums/VPAID_EVENTS");h.prototype.track=function(d){function f(d,f,g){function p(c){return e((f||a)(c))}return function(){g&&!g()||c(b[d],p)}}var b=this.pixels,e=this.__private__.mapper,h=d.adVolume;d.on(g.AdSkipped,f("skip"));d.on(g.AdStarted,f("creativeView"));d.on(g.AdVolumeChange,f("unmute",null,function(){return 0===h&&0<d.adVolume}));d.on(g.AdVolumeChange,
f("mute",null,function(){return 0<h&&0===d.adVolume}));d.on(g.AdImpression,f("impression"));d.on(g.AdVideoStart,f("start"));d.on(g.AdVideoFirstQuartile,f("firstQuartile"));d.on(g.AdVideoMidpoint,f("midpoint"));d.on(g.AdVideoThirdQuartile,f("thirdQuartile"));d.on(g.AdVideoComplete,f("complete"));d.on(g.AdClickThru,f("clickThrough"));d.on(g.AdUserAcceptInvitation,f("acceptInvitationLinear"));d.on(g.AdUserMinimize,f("collapse"));d.on(g.AdUserClose,f("closeLinear"));d.on(g.AdPaused,f("pause"));d.on(g.AdPlaying,
f("resume"));d.on(g.AdError,f("error",function(a){return a.replace(/\[ERRORCODE\]/g,901)}));d.on(g.AdVolumeChange,function(){h=d.adVolume})};l.exports=h},{"./enums/VPAID_EVENTS":10}],5:[function(b,l,k){function a(){var m={},c=arguments.length,d,f;for(d=0;d<c;d++){var p=arguments[d]||{};for(f in p){var e=p[f];void 0===m[f]&&(m[f]=e);"object"===typeof e&&(m[f]=a(m[f],e))}}return m}function c(m){return m}function h(){return Error("VASTPlayer not ready.")}function g(m){return function(){var a=this,c=
this.__private__.player;return this.ready?c[m].apply(c,arguments).then(function(){return a}):u.reject(h())}}function d(m){return{get:function(){if(!this.ready)throw h();return this.__private__.player[m]},set:function(a){if(!this.ready)throw h();return this.__private__.player[m]=a}}}function f(m,d){var f=this;q.call(this);this.__private__={container:m,config:a(d,{vast:{resolveWrappers:!0,maxRedirects:5},tracking:{mapper:c}}),vast:null,ready:!1,player:null};this.on(p.AdClickThru,function(m,a,c){m=m||
f.vast.get("ads[0].creatives[0].videoClicks.clickThrough");c&&m&&window.open(m)})}var q=b("events").EventEmitter;k=b("util").inherits;var e=b("vastacular").VAST,r=b("./players/JavaScriptVPAID"),v=b("./players/FlashVPAID"),n=b("./players/HTMLVideo"),w=b("./enums/MIME"),p=b("./enums/VPAID_EVENTS"),t=b("./EventProxy"),u=b("lie"),x=b("./PixelReporter");k(f,q);Object.defineProperties(f.prototype,{container:{get:function(){return this.__private__.container}},config:{get:function(){return this.__private__.config}},
vast:{get:function(){return this.__private__.vast}},ready:{get:function(){return this.__private__.ready}},adRemainingTime:d("adRemainingTime"),adDuration:d("adDuration"),adVolume:d("adVolume")});f.prototype.load=function(m){var a=this;return e.fetch(m,this.config.vast).then(function(m){var c=function(){var c=m.filter("ads[0].creatives[0].mediaFiles",function(m){return(m.type===w.JAVASCRIPT||"application/x-javascript"===m.type)&&"VPAID"===m.apiFramework}),d=m.filter("ads[0].creatives[0].mediaFiles",
function(m){return m.type===w.FLASH&&"VPAID"===m.apiFramework}),p=m.filter("ads[0].creatives[0].mediaFiles",function(){return!0});return 0<c.length?{player:new r(a.container),mediaFiles:c}:0<d.length?{player:new v(a.container,f.vpaidSWFLocation),mediaFiles:d}:{player:new n(a.container),mediaFiles:p}}(),d=m.get("ads[0].creatives[0].parameters"),e=[].concat(m.map("ads[0].impressions",function(m){return{event:"impression",uri:m.uri}}),m.map("ads[0].errors",function(m){return{event:"error",uri:m}}),m.get("ads[0].creatives[0].trackingEvents"),
m.map("ads[0].creatives[0].videoClicks.clickTrackings",function(m){return{event:"clickThrough",uri:m}})),g=c.player;c=c.mediaFiles;var u=new t(p),z=new x(e,a.config.tracking.mapper);u.from(g).to(a);a.__private__.vast=m;a.__private__.player=g;return g.load(c,d).then(function(){z.track(g)})}).then(function(){a.__private__.ready=!0;a.emit("ready");return a})["catch"](function(m){a.emit("error",m);throw m;})};f.prototype.startAd=g("startAd");f.prototype.stopAd=g("stopAd");f.prototype.pauseAd=g("pauseAd");
f.prototype.skipAd=g("skipAd",p.AdSkipped);f.prototype.resumeAd=g("resumeAd");f.vpaidSWFLocation="https://cdn.jsdelivr.net/npm/vast-player@0.2.10/dist/vast-player--vpaid.swf";l.exports=f},{"./EventProxy":2,"./PixelReporter":4,"./enums/MIME":9,"./enums/VPAID_EVENTS":10,"./players/FlashVPAID":12,"./players/HTMLVideo":13,"./players/JavaScriptVPAID":14,events:19,lie:21,util:35,vastacular:36}],6:[function(b,l,k){function a(a){var c=a.split(".").map(parseFloat);this.string=a;this.major=c[0];this.minor=
c[1];this.patch=c[2];Object.freeze(this)}a.prototype.toString=function(){return this.string};l.exports=a},{}],7:[function(b,l,k){function a(a,c){c.fired[a]||(c.emit(a),c.fired[a]=!0)}function c(a){h.apply(this,arguments);this.duration=a;this.seconds=Array.apply([],Array(a)).map(function(){return!1});this.fired=[g.AdVideoStart,g.AdVideoFirstQuartile,g.AdVideoMidpoint,g.AdVideoThirdQuartile,g.AdVideoComplete].reduce(function(a,c){a[c]=!1;return a},{})}var h=b("events").EventEmitter;k=b("util").inherits;
var g=b("./enums/VPAID_EVENTS");k(c,h);c.prototype.tick=function(){function c(a){return f.slice(0,h[a-1]).every(function(a){return!0===a})}var f=this.seconds,b=this._getState(),e=Math.round(b.currentTime)-1,h=[1,2,3,4].map(function(a){return Math.floor(this.duration/4*a)},this);b.playing&&(a(g.AdVideoStart,this),-1<e&&(this.seconds[e]=!0));c(1)&&a(g.AdVideoFirstQuartile,this);c(2)&&a(g.AdVideoMidpoint,this);c(3)&&a(g.AdVideoThirdQuartile,this);c(4)&&a(g.AdVideoComplete,this)};l.exports=c},{"./enums/VPAID_EVENTS":10,
events:19,util:35}],8:[function(b,l,k){b="abort canplay canplaythrough durationchange emptied encrypted ended error interruptbegin interruptend loadeddata loadedmetadata loadstart mozaudioavailable pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");b.forEach(function(a){this[a.toUpperCase()]=a},b);Object.freeze(b);l.exports=b},{}],9:[function(b,l,k){b={JAVASCRIPT:"application/javascript",FLASH:"application/x-shockwave-flash"};Object.freeze(b);
l.exports=b},{}],10:[function(b,l,k){var a="AdLoaded AdStarted AdStopped AdSkipped AdSkippableStateChange AdSizeChange AdLinearChange AdDurationChange AdExpandedChange AdRemainingTimeChange AdVolumeChange AdImpression AdVideoStart AdVideoFirstQuartile AdVideoMidpoint AdVideoThirdQuartile AdVideoComplete AdClickThru AdInteraction AdUserAcceptInvitation AdUserMinimize AdUserClose AdPaused AdPlaying AdLog AdError".split(" ");a.forEach(function(c){a[c]=c});Object.freeze(a);l.exports=a},{}],11:[function(b,
l,k){var a=b("./window"),c=document.createElement("video");c.setAttribute("class","hd1vplayer_video");c.setAttribute("autoplay","true");k.isDesktop=window.isDesktop;c.volume=.3;window.mutedVideoAd&&(c.muted=!0,c.setAttribute("playsinline","true"),c.setAttribute("muted","true"));var h=b("./enums/MIME");k.canPlay=function(g){var d=a.navigator.mimeTypes,f=a.ActiveXObject;switch(g){case h.FLASH:try{return new f("ShockwaveFlash.ShockwaveFlash"),2}catch(q){return d&&d[h.FLASH]?2:0}case h.JAVASCRIPT:case "application/x-javascript":return 2;
default:if(c.canPlayType)switch(c.canPlayType(g)){case "probably":return 2;case "maybe":return 1}}return 0};Object.freeze(k)},{"./enums/MIME":9,"./window":17}],12:[function(b,l,k){function a(a,d){c.apply(this,arguments);this.swfURI=d;this.object=null}var c=b("./VPAID");k=b("util").inherits;var h=b("lie"),g=b("../uuid"),d=b("querystring"),f=b("../enums/VPAID_EVENTS"),q=b("../VPAIDVersion");k(a,c);a.prototype.load=function(a,c){var e=this,b=a[0].uri,w=a[0].bitrate;return new h(function(a,t){function p(a){e.container.removeChild(n);
e.api=null;e.object=null;delete window[m];a&&t(a)}var n=document.createElement("object"),m="vast_player__"+g(20),y=d.stringify({vpaidURI:b,eventCallback:m});n.type="application/x-shockwave-flash";n.data=e.swfURI+"?"+y;n.style.display="block";n.style.width="100%";n.style.height="100%";n.style.border="none";n.style.opacity="0";n.innerHTML=['<param name="movie" value="'+e.swfURI+'">','<param name="flashvars" value="'+y+'">','<param name="quality" value="high">\n<param name="play" value="false">\n<param name="loop" value="false">\n<param name="wmode" value="opaque">\n<param name="scale" value="noscale">\n<param name="salign" value="lt">\n<param name="allowScriptAccess" value="always">'].join("\n");
e.object=n;window[m]=function(a){switch(a.type){case f.AdClickThru:return e.emit(a.type,a.url,a.Id,a.playerHandles);case f.AdInteraction:case f.AdLog:return e.emit(a.type,a.Id);case f.AdError:return e.emit(a.type,a.message);default:return e.emit(a.type)}};e.once("VPAIDInterfaceReady",function(){var a=n.getBoundingClientRect(),m=e.vpaidVersion=new q(n.handshakeVersion("2.0"));if(2<m.major)return t(Error("VPAID version "+m+" is not supported."));e.on("VPAIDInterfaceResize",function(){var a=n.getBoundingClientRect();
e.resizeAd(a.width,a.height,"normal")});n.initAd(a.width,a.height,"normal",w,c,null)});e.once(f.AdLoaded,function(){e.api=n;n.style.opacity="1";a(e)});e.once(f.AdError,function(a){p(Error(a))});e.once(f.AdStopped,p);e.container.appendChild(n)})};l.exports=a},{"../VPAIDVersion":6,"../enums/VPAID_EVENTS":10,"../uuid":16,"./VPAID":15,lie:21,querystring:26,util:35}],13:[function(b,l,k){function a(a,c,d){return a.addEventListener(c,d,!1)}function c(c,d,e){return a(c,d,function y(){c.removeEventListener(d,
y,!1);return e.apply(this,arguments)})}function h(a,c){function d(){return Error("The <video> has not been loaded.")}return function(){if(!this.video){if(c)return q.reject(d());throw d();}return a.apply(this,arguments)}}function g(a,c){var d=c.width,m=a.map(function(a){return{mediaFile:a,playability:e(a.type)}}).filter(function(a){return 0<a.playability}).sort(r("-playability","-mediaFile.bitrate")),p=m.map(function(a){return Math.abs(d-a.mediaFile.width)});m=m[p.indexOf(Math.min.apply(Math,p))];
return!m||1>m.playability?null:m.mediaFile}function d(a){this.container=a;this.video=null;this.__private__={hasPlayed:!1}}k=b("events").EventEmitter;var f=b("util").inherits,q=b("lie"),e=b("../environment").canPlay,r=b("sort-by"),v=b("../enums/VPAID_EVENTS"),n=b("../enums/HTML_MEDIA_EVENTS"),w=b("../HTMLVideoTracker"),p=b("../EventProxy");f(d,k);Object.defineProperties(d.prototype,{adRemainingTime:{get:h(function(){return this.video.duration-this.video.currentTime})},adDuration:{get:h(function(){return this.video.duration})},
adVolume:{get:h(function(){return this.video.volume}),set:h(function(a){this.video.volume=a})}});d.prototype.load=function(d){var e=this;return new q(function(f,m){var b=document.createElement("video"),u=g(d,e.container.getBoundingClientRect());if(!u)return m(Error("There are no playable <MediaFile>s."));b.setAttribute("webkit-playsinline",!0);b.volume=.3;window.mutedVideoAd&&(b.muted=!0,b.setAttribute("playsinline","true"),b.setAttribute("muted","true"));b.src=u.uri.trim();b.preload="auto";b.setAttribute("autoplay",
"true");b.style.display="block";b.style.width="100%";b.style.height="100%";b.style.objectFit="contain";b.setAttribute("class","hd1vplayer_video");c(b,n.LOADEDMETADATA,function(){var m=new w(b);(new p(v)).from(m).to(e);e.video=b;f(e);e.emit(v.AdLoaded);a(b,n.DURATIONCHANGE,function(){e.emit(v.AdDurationChange)});a(b,n.VOLUMECHANGE,function(){e.emit(v.AdVolumeChange)})});c(b,n.ERROR,function(){var a=b.error;e.emit(v.AdError,a.message);m(a)});c(b,n.PLAYING,function(){e.__private__.hasPlayed=!0;e.emit(v.AdImpression)});
c(b,n.ENDED,function(){e.stopAd()});a(b,"click",function(){e.emit(v.AdClickThru,null,null,!0)});e.container.appendChild(b)})};d.prototype.startAd=h(function(){var a=this,d=this.video;return this.__private__.hasPlayed?q.reject(Error("The ad has already been started.")):new q(function(e){c(d,n.PLAYING,function(){e(a);a.emit(v.AdStarted)});return d.play()})},!0);d.prototype.stopAd=h(function(){this.container.removeChild(this.video);this.emit(v.AdStopped);return q.resolve(this)},!0);d.prototype.pauseAd=
h(function(){var a=this,d=this.video;return this.video.paused?q.resolve(this):new q(function(e){c(d,n.PAUSE,function(){e(a);a.emit(v.AdPaused)});return d.pause()})},!0);d.prototype.resumeAd=h(function(){var a=this,d=this.video;return this.__private__.hasPlayed?this.video.paused?new q(function(e){c(d,n.PLAY,function(){e(a);a.emit(v.AdPlaying)});return d.play()}):q.resolve(this):q.reject(Error("The ad has not been started yet."))},!0);l.exports=d},{"../EventProxy":2,"../HTMLVideoTracker":3,"../enums/HTML_MEDIA_EVENTS":8,
"../enums/VPAID_EVENTS":10,"../environment":11,events:19,lie:21,"sort-by":28,util:35}],14:[function(b,l,k){function a(){c.apply(this,arguments);this.frame=null}k=b("util").inherits;var c=b("./VPAID"),h=b("lie"),g=b("../enums/VPAID_EVENTS"),d=b("../environment").isDesktop,f=b("../VPAIDVersion");k(a,c);a.prototype.load=function(a,c){var e=this,b=a[0].uri;b=b?b.trim():"";var n=a[0].bitrate;return new h(function(a,p){function q(a){e.container.removeChild(u);e.frame=null;e.api=null;a&&p(a)}var u=document.createElement("iframe"),
h=document.createElement("script"),m=document.createElement("video");u.src="about:blank";u.style.width="100%";u.style.height="100%";u.style.display="block";u.style.opacity="1";u.style.border="none";u.setAttribute("frameborder","0");u.setAttribute("allowfullscreen","true");u.setAttribute("scrolling","no");u.setAttribute("allow","autoplay");u.setAttribute("class","hd1vplayer_iframe");m.setAttribute("webkit-playsinline","true");m.setAttribute("playsinline","true");m.setAttribute("autoplay","true");m.volume=
.3;window.mutedVideoAd&&(m.muted=!0,m.setAttribute("muted","true"));m.style.display="block";m.style.width="100%";m.style.height="100%";m.style.objectFit="contain";e.container.appendChild(u);u.contentWindow.document.open();u.contentWindow.document.close();u.contentWindow.document.body.style.margin="0";e.frame=u;h.src=b;h.onload=function(){var b=u.contentWindow.getVPAIDAd(),h=u.getBoundingClientRect(),t=u.contentWindow.document.body,w=e.vpaidVersion=new f(b.handshakeVersion("2.0"));if(2<w.major)return p(Error("VPAID version "+
w+" is not supported."));u.contentWindow.addEventListener("resize",function(){var a=u.getBoundingClientRect();e.resizeAd(a.width,a.height,"normal")},!1);g.forEach(function(a){return b.subscribe(function(){for(var m=Array(arguments.length),c=arguments.length;c--;)m[c]=arguments[c];return e.emit.apply(e,[a].concat(m))},a)});e.once(g.AdLoaded,function(){u.style.opacity="1";e.api=b;a(e)});e.once(g.AdError,function(a){q(Error(a))});e.once(g.AdStopped,q);b.initAd(h.width,h.height,"normal",n,{AdParameters:c},
{slot:t,videoSlot:m,videoSlotCanAutoPlay:d,playerHadarOne:!0})};h.onerror=function(){q(Error("Failed to load MediaFile ["+b+"]."))};u.contentWindow.document.body.appendChild(m);u.contentWindow.document.head.appendChild(h)})};l.exports=a},{"../VPAIDVersion":6,"../enums/VPAID_EVENTS":10,"../environment":11,"./VPAID":15,lie:21,util:35}],15:[function(b,l,k){function a(a,c){return function(){var d=arguments,e=this.api,f=this;if(!c){if(!e)throw Error("Ad has not been loaded.");return e[a].apply(e,d)}return new g(function(b,
g){if(!e)return g(Error("Ad has not been loaded."));f.once(c,function(){b(f)});return e[a].apply(e,d)})}}function c(a){this.container=a;this.vpaidVersion=this.api=null}k=b("util").inherits;var h=b("events").EventEmitter,g=b("lie");b=b("../enums/VPAID_EVENTS");k(c,h);Object.defineProperties(c.prototype,{adLinear:{get:a("getAdLinear")},adWidth:{get:a("getAdWidth")},adHeight:{get:a("getAdHeight")},adExpanded:{get:a("getAdExpanded")},adSkippableState:{get:a("getAdSkippableState")},adRemainingTime:{get:a("getAdRemainingTime")},
adDuration:{get:a("getAdDuration")},adVolume:{get:a("getAdVolume"),set:a("setAdVolume")},adCompanions:{get:a("getAdCompanions")},adIcons:{get:a("getAdIcons")}});c.prototype.load=function(){throw Error("VPAID subclass must implement load() method.");};c.prototype.resizeAd=a("resizeAd",b.AdSizeChange);c.prototype.startAd=a("startAd",b.AdStarted);c.prototype.stopAd=a("stopAd",b.AdStopped);c.prototype.pauseAd=a("pauseAd",b.AdPaused);c.prototype.resumeAd=a("resumeAd",b.AdPlaying);c.prototype.expandAd=
a("expandAd",b.AdExpandedChange);c.prototype.collapseAd=a("collapseAd",b.AdExpandedChange);c.prototype.skipAd=a("skipAd",b.AdSkipped);l.exports=c},{"../enums/VPAID_EVENTS":10,events:19,lie:21,util:35}],16:[function(b,l,k){l.exports=function(a){for(var c="";a--;)c+="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()));return c}},{}],17:[function(b,l,k){l.exports=window},{}],18:[function(b,l,k){function a(c){if(c){for(var b in a.prototype)c[b]=a.prototype[b];
return c}}"undefined"!==typeof l&&(l.exports=a);a.prototype.on=a.prototype.addEventListener=function(a,b){this._callbacks=this._callbacks||{};(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b);return this};a.prototype.once=function(a,b){function c(){this.off(a,c);b.apply(this,arguments)}c.fn=b;this.on(a,c);return this};a.prototype.off=a.prototype.removeListener=a.prototype.removeAllListeners=a.prototype.removeEventListener=function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks=
{},this;var c=this._callbacks["$"+a];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var d,f=0;f<c.length;f++)if(d=c[f],d===b||d.fn===b){c.splice(f,1);break}return this};a.prototype.emit=function(a){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),b=this._callbacks["$"+a];if(b){b=b.slice(0);for(var d=0,f=b.length;d<f;++d)b[d].apply(this,c)}return this};a.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks["$"+
a]||[]};a.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],19:[function(b,l,k){function a(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}function c(a){return"function"===typeof a}function h(a){return"object"===typeof a&&null!==a}l.exports=a;a.EventEmitter=a;a.prototype._events=void 0;a.prototype._maxListeners=void 0;a.defaultMaxListeners=10;a.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");
this._maxListeners=a;return this};a.prototype.emit=function(a){var d;this._events||(this._events={});if("error"===a&&(!this._events.error||h(this._events.error)&&!this._events.error.length)){var b=arguments[1];if(b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.');}var g=this._events[a];if(void 0===g)return!1;if(c(g))switch(arguments.length){case 1:g.call(this);break;case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:b=
arguments.length;var e=Array(b-1);for(d=1;d<b;d++)e[d-1]=arguments[d];g.apply(this,e)}else if(h(g)){b=arguments.length;e=Array(b-1);for(d=1;d<b;d++)e[d-1]=arguments[d];g=g.slice();b=g.length;for(d=0;d<b;d++)g[d].apply(this,e)}return!0};a.prototype.addListener=function(b,d){var f;if(!c(d))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",b,c(d.listener)?d.listener:d);this._events[b]?h(this._events[b])?this._events[b].push(d):
this._events[b]=[this._events[b],d]:this._events[b]=d;h(this._events[b])&&!this._events[b].warned&&(f=void 0!==this._maxListeners?this._maxListeners:a.defaultMaxListeners)&&0<f&&this._events[b].length>f&&(this._events[b].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[b].length),"function"===typeof console.trace&&console.trace());return this};a.prototype.on=a.prototype.addListener;
a.prototype.once=function(a,d){function b(){this.removeListener(a,b);g||(g=!0,d.apply(this,arguments))}if(!c(d))throw TypeError("listener must be a function");var g=!1;b.listener=d;this.on(a,b);return this};a.prototype.removeListener=function(a,b){if(!c(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;var d=this._events[a];var g=d.length;var e=-1;if(d===b||c(d.listener)&&d.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",
a,b);else if(h(d)){for(;0<g--;)if(d[g]===b||d[g].listener&&d[g].listener===b){e=g;break}if(0>e)return this;1===d.length?(d.length=0,delete this._events[a]):d.splice(e,1);this._events.removeListener&&this.emit("removeListener",a,b)}return this};a.prototype.removeAllListeners=function(a){if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==
b&&this.removeAllListeners(b);this.removeAllListeners("removeListener");this._events={};return this}var b=this._events[a];if(c(b))this.removeListener(a,b);else for(;b.length;)this.removeListener(a,b[b.length-1]);delete this._events[a];return this};a.prototype.listeners=function(a){return this._events&&this._events[a]?c(this._events[a])?[this._events[a]]:this._events[a].slice():[]};a.listenerCount=function(a,b){return a._events&&a._events[b]?c(a._events[b])?1:a._events[b].length:0}},{}],20:[function(b,
l,k){(function(a){function c(){e=!0;for(var a,c,b=k.length;b;){c=k;k=[];for(a=-1;++a<b;)c[a]();b=k.length}e=!1}var b=a.MutationObserver||a.WebKitMutationObserver;if(b){var g=0;b=new b(c);var d=a.document.createTextNode("");b.observe(d,{characterData:!0});var f=function(){d.data=g=++g%2}}else if(a.setImmediate||"undefined"===typeof a.MessageChannel)f="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var b=a.document.createElement("script");b.onreadystatechange=function(){c();
b.onreadystatechange=null;b.parentNode.removeChild(b);b=null};a.document.documentElement.appendChild(b)}:function(){setTimeout(c,0)};else{var q=new a.MessageChannel;q.port1.onmessage=c;f=function(){q.port2.postMessage(0)}}var e,k=[];l.exports=function(a){1!==k.push(a)||e||f()}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],21:[function(b,l,k){function a(){}function c(c){if("function"!==typeof c)throw new TypeError("resolver must be a function");
this.state=w;this.queue=[];this.outcome=void 0;c!==a&&f(this,c)}function h(a,c,b){this.promise=a;"function"===typeof c&&(this.onFulfilled=c,this.callFulfilled=this.otherCallFulfilled);"function"===typeof b&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function g(a,c,b){e(function(){try{var e=c(b)}catch(m){return r.reject(a,m)}e===a?r.reject(a,new TypeError("Cannot resolve promise with itself")):r.resolve(a,e)})}function d(a){var c=a&&a.then;if(a&&("object"===typeof a||"function"===
typeof a)&&"function"===typeof c)return function(){c.apply(a,arguments)}}function f(a,c){function b(c){m||(m=!0,r.reject(a,c))}function e(c){m||(m=!0,r.resolve(a,c))}var m=!1,d=q(function(){c(e,b)});"error"===d.status&&b(d.value)}function q(a,c){var b={};try{b.value=a(c),b.status="success"}catch(x){b.status="error",b.value=x}return b}var e=b("immediate"),r={},v=["REJECTED"],n=["FULFILLED"],w=["PENDING"];l.exports=c;c.prototype["finally"]=function(a){if("function"!==typeof a)return this;var c=this.constructor;
return this.then(function(b){return c.resolve(a()).then(function(){return b})},function(b){return c.resolve(a()).then(function(){throw b;})})};c.prototype["catch"]=function(a){return this.then(null,a)};c.prototype.then=function(c,b){if("function"!==typeof c&&this.state===n||"function"!==typeof b&&this.state===v)return this;var e=new this.constructor(a);this.state!==w?g(e,this.state===n?c:b,this.outcome):this.queue.push(new h(e,c,b));return e};h.prototype.callFulfilled=function(a){r.resolve(this.promise,
a)};h.prototype.otherCallFulfilled=function(a){g(this.promise,this.onFulfilled,a)};h.prototype.callRejected=function(a){r.reject(this.promise,a)};h.prototype.otherCallRejected=function(a){g(this.promise,this.onRejected,a)};r.resolve=function(a,c){var b=q(d,c);if("error"===b.status)return r.reject(a,b.value);if(b=b.value)f(a,b);else{a.state=n;a.outcome=c;b=-1;for(var e=a.queue.length;++b<e;)a.queue[b].callFulfilled(c)}return a};r.reject=function(a,c){a.state=v;a.outcome=c;for(var b=-1,e=a.queue.length;++b<
e;)a.queue[b].callRejected(c);return a};c.resolve=function(c){return c instanceof this?c:r.resolve(new this(a),c)};c.reject=function(c){var b=new this(a);return r.reject(b,c)};c.all=function(c){function b(a,c){e.resolve(a).then(function(a){f[c]=a;++n!==d||m||(m=!0,r.resolve(g,f))},function(a){m||(m=!0,r.reject(g,a))})}var e=this;if("[object Array]"!==Object.prototype.toString.call(c))return this.reject(new TypeError("must be an array"));var d=c.length,m=!1;if(!d)return this.resolve([]);for(var f=
Array(d),n=0,p=-1,g=new this(a);++p<d;)b(c[p],p);return g};c.race=function(c){function b(a){e.resolve(a).then(function(a){m||(m=!0,r.resolve(n,a))},function(a){m||(m=!0,r.reject(n,a))})}var e=this;if("[object Array]"!==Object.prototype.toString.call(c))return this.reject(new TypeError("must be an array"));var d=c.length,m=!1;if(!d)return this.resolve([]);for(var f=-1,n=new this(a);++f<d;)b(c[f]);return n}},{immediate:20}],22:[function(b,l,k){(function(a,c){"object"===typeof l&&"object"===typeof l.exports?
l.exports=c():a.objectPath=c()})(this,function(){function a(a){if(!a)return!0;if(!g(a)||0!==a.length)for(var c in a)if(k.call(a,c))return!1;return!0}function c(a){return"number"===typeof a||"[object Number]"===e.call(a)}function b(a){return"string"===typeof a||"[object String]"===e.call(a)}function g(a){return"object"===typeof a&&"number"===typeof a.length&&"[object Array]"===e.call(a)}function d(a){var c=parseInt(a);return c.toString()===a?c:a}function f(e,g,p,h){c(g)&&(g=[g]);if(a(g))return e;if(b(g))return f(e,
g.split("."),p,h);var n=d(g[0]);if(1===g.length)return g=e[n],void 0!==g&&h||(e[n]=p),g;void 0===e[n]&&(c(n)?e[n]=[]:e[n]={});return f(e[n],g.slice(1),p,h)}function q(e,f){c(f)&&(f=[f]);if(!a(e)){if(a(f))return e;if(b(f))return q(e,f.split("."));var p=d(f[0]),n=e[p];if(1===f.length)void 0!==n&&(g(e)?e.splice(p,1):delete e[p]);else if(void 0!==e[p])return q(e[p],f.slice(1));return e}}var e=Object.prototype.toString,k=Object.prototype.hasOwnProperty,l={ensureExists:function(a,c,b){return f(a,c,b,!0)},
set:function(a,c,b,e){return f(a,c,b,e)},insert:function(a,c,b,e){var d=l.get(a,c);e=~~e;g(d)||(d=[],l.set(a,c,d));d.splice(e,0,b)},empty:function(d,f){if(a(f))return d;if(!a(d)){var p,h;if(!(p=l.get(d,f)))return d;if(b(p))return l.set(d,f,"");if("boolean"===typeof p||"[object Boolean]"===e.call(p))return l.set(d,f,!1);if(c(p))return l.set(d,f,0);if(g(p))p.length=0;else if("object"===typeof p&&"[object Object]"===e.call(p))for(h in p)k.call(p,h)&&delete p[h];else return l.set(d,f,null)}},push:function(a,
c){var b=l.get(a,c);g(b)||(b=[],l.set(a,c,b));b.push.apply(b,Array.prototype.slice.call(arguments,2))},coalesce:function(a,c,b){for(var e,d=0,f=c.length;d<f;d++)if(void 0!==(e=l.get(a,c[d])))return e;return b},get:function(e,f,g){c(f)&&(f=[f]);if(a(f))return e;if(a(e))return g;if(b(f))return l.get(e,f.split("."),g);var h=d(f[0]);return 1===f.length?void 0===e[h]?g:e[h]:l.get(e[h],f.slice(1),g)},del:function(a,c){return q(a,c)}};return l})},{}],23:[function(b,l,k){function a(){throw Error("setTimeout has not been defined");
}function c(){throw Error("clearTimeout has not been defined");}function h(c){if(r===setTimeout)return setTimeout(c,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(c,0);try{return r(c,0)}catch(x){try{return r.call(null,c,0)}catch(m){return r.call(this,c,0)}}}function g(a){if(v===clearTimeout)return clearTimeout(a);if((v===c||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(a);try{return v(a)}catch(x){try{return v.call(null,a)}catch(m){return v.call(this,a)}}}function d(){w&&p&&(w=
!1,p.length?n=p.concat(n):t=-1,n.length&&f())}function f(){if(!w){var a=h(d);w=!0;for(var c=n.length;c;){p=n;for(n=[];++t<c;)p&&p[t].run();t=-1;c=n.length}p=null;w=!1;g(a)}}function q(a,c){this.fun=a;this.array=c}function e(){}b=l.exports={};try{var r="function"===typeof setTimeout?setTimeout:a}catch(u){r=a}try{var v="function"===typeof clearTimeout?clearTimeout:c}catch(u){v=c}var n=[],w=!1,p,t=-1;b.nextTick=function(a){var c=Array(arguments.length-1);if(1<arguments.length)for(var b=1;b<arguments.length;b++)c[b-
1]=arguments[b];n.push(new q(a,c));1!==n.length||w||h(f)};q.prototype.run=function(){this.fun.apply(null,this.array)};b.title="browser";b.browser=!0;b.env={};b.argv=[];b.version="";b.versions={};b.on=e;b.addListener=e;b.once=e;b.off=e;b.removeListener=e;b.removeAllListeners=e;b.emit=e;b.prependListener=e;b.prependOnceListener=e;b.listeners=function(a){return[]};b.binding=function(a){throw Error("process.binding is not supported");};b.cwd=function(){return"/"};b.chdir=function(a){throw Error("process.chdir is not supported");
};b.umask=function(){return 0}},{}],24:[function(b,l,k){l.exports=function(c,b,g,d){g=g||"=";var f={};if("string"!==typeof c||0===c.length)return f;var h=/\+/g;c=c.split(b||"&");b=1E3;d&&"number"===typeof d.maxKeys&&(b=d.maxKeys);d=c.length;0<b&&d>b&&(d=b);for(b=0;b<d;++b){var e=c[b].replace(h,"%20"),k=e.indexOf(g);if(0<=k){var l=e.substr(0,k);e=e.substr(k+1)}else l=e,e="";l=decodeURIComponent(l);e=decodeURIComponent(e);Object.prototype.hasOwnProperty.call(f,l)?a(f[l])?f[l].push(e):f[l]=[f[l],e]:
f[l]=e}return f};var a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],25:[function(b,l,k){function a(a,c){if(a.map)return a.map(c);for(var b=[],e=0;e<a.length;e++)b.push(c(a[e],e));return b}var c=function(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}};l.exports=function(b,f,q,e){f=f||"&";q=q||"=";null===b&&(b=void 0);return"object"===typeof b?a(g(b),function(e){var d=
encodeURIComponent(c(e))+q;return h(b[e])?a(b[e],function(a){return d+encodeURIComponent(c(a))}).join(f):d+encodeURIComponent(c(b[e]))}).join(f):e?encodeURIComponent(c(e))+q+encodeURIComponent(c(b)):""};var h=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g=Object.keys||function(a){var c=[],b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}},{}],26:[function(b,l,k){k.decode=k.parse=b("./decode");k.encode=k.stringify=b("./encode")},{"./decode":24,
"./encode":25}],27:[function(b,l,k){l.exports=function(a,c,b){for(var g=0,d=a.length,f=3==arguments.length?b:a[g++];g<d;)f=c.call(null,f,a[g],++g,a);return f}},{}],28:[function(b,l,k){var a=b("object-path");var c=function(a){return function(b){return typeof b===a}};var h=function(b,c){var d=1,g=c||function(a,b){return b};"-"===b[0]&&(d=-1,b=b.substr(1));return function(c,f){var e,h=g(b,a.get(c,b)),k=g(b,a.get(f,b));h<k&&(e=-1);h>k&&(e=1);h===k&&(e=0);return e*d}};l.exports=function(){var a=Array.prototype.slice.call(arguments),
b=a.filter(c("string")),f=a.filter(c("function"))[0];return function(a,c){for(var e=b.length,d=0,g=0;0===d&&g<e;)d=h(b[g],f)(a,c),g++;return d}}},{"object-path":22}],29:[function(b,l,k){function a(){}function c(a){switch({}.toString.call(a)){case "[object File]":case "[object Blob]":case "[object FormData]":return!0;default:return!1}}function h(a){if(!w(a))return a;var b=[],c;for(c in a)null!=a[c]&&g(b,c,a[c]);return b.join("&")}function g(a,b,c){if(Array.isArray(c))return c.forEach(function(c){g(a,
b,c)});a.push(encodeURIComponent(b)+"="+encodeURIComponent(c))}function d(a){var b={};a=a.split("&");for(var c,e=0,m=a.length;e<m;++e)c=a[e],c=c.split("="),b[decodeURIComponent(c[0])]=decodeURIComponent(c[1]);return b}function f(a){return v(a.split(/ *; */),function(a,b){var c=b.split(/ *= */),e=c.shift();c=c.shift();e&&c&&(a[e]=c);return a},{})}function q(a,c){this.req=a;this.xhr=this.req.xhr;this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"===
typeof this.xhr.responseType?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;this.setStatusProperties(this.xhr.status);var b=this.xhr.getAllResponseHeaders().split(/\r?\n/),e={};b.pop();for(var m=0,d=b.length;m<d;++m){var f=b[m];var g=f.indexOf(":");var h=f.slice(0,g).toLowerCase();g=u(f.slice(g+1));e[h]=g}this.header=this.headers=e;this.header["content-type"]=this.xhr.getResponseHeader("content-type");this.setHeaderProperties(this.header);this.body="HEAD"!=this.req.method?this.parseBody(this.text?
this.text:this.xhr.response):null}function e(a,b){var c=this;this._query=this._query||[];this.method=a;this.url=b;this.header={};this._header={};this.on("end",function(){var a=null,b=null;try{b=new q(c)}catch(A){return a=Error("Parser is unable to parse the response"),a.parse=!0,a.original=A,a.rawResponse=c.xhr&&c.xhr.responseText?c.xhr.responseText:null,a.statusCode=c.xhr&&c.xhr.status?c.xhr.status:null,c.callback(a)}c.emit("response",b);if(a||200<=b.status&&300>b.status)return c.callback(a,b);var e=
Error(b.statusText||"Unsuccessful HTTP response");e.original=a;e.response=b;e.status=b.status;c.callback(e,b)})}function r(a,b){var c=t("DELETE",a);b&&c.end(b);return c}k=b("emitter");var v=b("reduce"),n=b("./request-base"),w=b("./is-object");var p="undefined"!==typeof window?window:"undefined"!==typeof self?self:this;var t=l.exports=b("./request").bind(null,e);t.getXHR=function(){if(!p.XMLHttpRequest||p.location&&"file:"==p.location.protocol&&p.ActiveXObject){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(m){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(m){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(m){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(m){}}else return new XMLHttpRequest;
return!1};var u="".trim?function(a){return a.trim()}:function(a){return a.replace(/(^\s*|\s*$)/g,"")};t.serializeObject=h;t.parseString=d;t.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};t.serialize={"application/x-www-form-urlencoded":h,"application/json":JSON.stringify};t.parse={"application/x-www-form-urlencoded":d,"application/json":JSON.parse};
q.prototype.get=function(a){return this.header[a.toLowerCase()]};q.prototype.setHeaderProperties=function(a){a=this.header["content-type"]||"";this.type=a.split(/ *; */).shift();a=f(a);for(var b in a)this[b]=a[b]};q.prototype.parseBody=function(a){var b=t.parse[this.type];!b&&/[\/+]json\b/.test(this.type)&&(b=t.parse["application/json"]);return b&&a&&(a.length||a instanceof Object)?b(a):null};q.prototype.setStatusProperties=function(a){1223===a&&(a=204);var b=a/100|0;this.status=this.statusCode=a;
this.statusType=b;this.info=1==b;this.ok=2==b;this.clientError=4==b;this.serverError=5==b;this.error=4==b||5==b?this.toError():!1;this.accepted=202==a;this.noContent=204==a;this.badRequest=400==a;this.unauthorized=401==a;this.notAcceptable=406==a;this.notFound=404==a;this.forbidden=403==a};q.prototype.toError=function(){var a=this.req,b=a.method;a=a.url;var c=Error("cannot "+b+" "+a+" ("+this.status+")");c.status=this.status;c.method=b;c.url=a;return c};t.Response=q;k(e.prototype);for(var x in n)e.prototype[x]=
n[x];e.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr&&this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this};e.prototype.type=function(a){this.set("Content-Type",t.types[a]||a);return this};e.prototype.responseType=function(a){this._responseType=a;return this};e.prototype.accept=function(a){this.set("Accept",t.types[a]||a);return this};e.prototype.auth=function(a,b,c){c||(c={type:"basic"});switch(c.type){case "basic":a=btoa(a+":"+b);this.set("Authorization","Basic "+
a);break;case "auto":this.username=a,this.password=b}return this};e.prototype.query=function(a){"string"!=typeof a&&(a=h(a));a&&this._query.push(a);return this};e.prototype.attach=function(a,b,c){this._getFormData().append(a,b,c||b.name);return this};e.prototype._getFormData=function(){this._formData||(this._formData=new p.FormData);return this._formData};e.prototype.send=function(a){var b=w(a),e=this._header["content-type"];if(b&&w(this._data))for(var d in a)this._data[d]=a[d];else"string"==typeof a?
(e||this.type("form"),e=this._header["content-type"],this._data="application/x-www-form-urlencoded"==e?this._data?this._data+"&"+a:a:(this._data||"")+a):this._data=a;if(!b||c(a))return this;e||this.type("json");return this};q.prototype.parse=function(a){p.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0");this.serialize(a);return this};q.prototype.serialize=function(a){this._parser=a;return this};e.prototype.callback=
function(a,b){var c=this._callback;this.clearTimeout();c(a,b)};e.prototype.crossDomainError=function(){var a=Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");a.crossDomain=!0;a.status=this.status;a.method=this.method;a.url=this.url;this.callback(a)};e.prototype.timeoutError=function(){var a=this._timeout,b=Error("timeout of "+a+"ms exceeded");b.timeout=a;this.callback(b)};e.prototype.withCredentials=
function(){this._withCredentials=!0;return this};e.prototype.end=function(b){var e=this,d=this.xhr=t.getXHR(),f=this._query.join("&"),m=this._timeout,g=this._formData||this._data;this._callback=b||a;d.onreadystatechange=function(){if(4==d.readyState){try{var a=d.status}catch(I){a=0}if(0==a)return e.timedout?e.timeoutError():e.aborted?void 0:e.crossDomainError();e.emit("end")}};b=function(a){0<a.total&&(a.percent=a.loaded/a.total*100);a.direction="download";e.emit("progress",a)};this.hasListeners("progress")&&
(d.onprogress=b);try{d.upload&&this.hasListeners("progress")&&(d.upload.onprogress=b)}catch(H){}m&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0;e.abort()},m));f&&(f=t.serializeObject(f),this.url+=~this.url.indexOf("?")?"&"+f:"?"+f);this.username&&this.password?d.open(this.method,this.url,!0,this.username,this.password):d.open(this.method,this.url,!0);this._withCredentials&&(d.withCredentials=!0);"GET"==this.method||"HEAD"==this.method||"string"==typeof g||c(g)||(f=this._header["content-type"],
m=this._parser||t.serialize[f?f.split(";")[0]:""],!m&&/[\/+]json\b/.test(f)&&(m=t.serialize["application/json"]),m&&(g=m(g)));for(var h in this.header)null!=this.header[h]&&d.setRequestHeader(h,this.header[h]);this._responseType&&(d.responseType=this._responseType);this.emit("request",this);d.send("undefined"!==typeof g?g:null);return this};t.Request=e;t.get=function(a,b,c){a=t("GET",a);"function"==typeof b&&(c=b,b=null);b&&a.query(b);c&&a.end(c);return a};t.head=function(a,b,c){a=t("HEAD",a);"function"==
typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};t.del=r;t["delete"]=r;t.patch=function(a,b,c){a=t("PATCH",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};t.post=function(a,b,c){a=t("POST",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a};t.put=function(a,b,c){a=t("PUT",a);"function"==typeof b&&(c=b,b=null);b&&a.send(b);c&&a.end(c);return a}},{"./is-object":30,"./request":32,"./request-base":31,emitter:18,reduce:27}],30:[function(b,l,k){l.exports=
function(a){return null!=a&&"object"==typeof a}},{}],31:[function(b,l,k){var a=b("./is-object");k.clearTimeout=function(){this._timeout=0;clearTimeout(this._timer);return this};k.parse=function(a){this._parser=a;return this};k.timeout=function(a){this._timeout=a;return this};k.then=function(a,b){return this.end(function(c,d){c?b(c):a(d)})};k.use=function(a){a(this);return this};k.get=function(a){return this._header[a.toLowerCase()]};k.getHeader=k.get;k.set=function(b,h){if(a(b)){for(var c in b)this.set(c,
b[c]);return this}this._header[b.toLowerCase()]=h;this.header[b]=h;return this};k.unset=function(a){delete this._header[a.toLowerCase()];delete this.header[a];return this};k.field=function(a,b){this._getFormData().append(a,b);return this}},{"./is-object":30}],32:[function(b,l,k){l.exports=function(a,b,h){return"function"==typeof h?(new a("GET",b)).end(h):2==arguments.length?new a("GET",b):new a(b,h)}},{}],33:[function(b,l,k){l.exports="function"===typeof Object.create?function(a,b){a.super_=b;a.prototype=
Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a}},{}],34:[function(b,l,k){l.exports=function(a){return a&&"object"===typeof a&&"function"===typeof a.copy&&"function"===typeof a.fill&&"function"===typeof a.readUInt8}},{}],35:[function(b,l,k){(function(a,c){function h(a,b){var c={seen:[],stylize:d};3<=arguments.length&&(c.depth=arguments[2]);4<=
arguments.length&&(c.colors=arguments[3]);t(b)?c.showHidden=b:b&&k._extend(c,b);m(c.showHidden)&&(c.showHidden=!1);m(c.depth)&&(c.depth=2);m(c.colors)&&(c.colors=!1);m(c.customInspect)&&(c.customInspect=!0);c.colors&&(c.stylize=g);return l(c,a,c.depth)}function g(a,b){var c=h.styles[b];return c?"\u001b["+h.colors[c][0]+"m"+a+"\u001b["+h.colors[c][1]+"m":a}function d(a,b){return a}function f(a){var b={};a.forEach(function(a,c){b[a]=!0});return b}function l(a,b,c){if(a.customInspect&&b&&C(b.inspect)&&
b.inspect!==k.inspect&&(!b.constructor||b.constructor.prototype!==b)){var d=b.inspect(c,a);x(d)||(d=l(a,d,c));return d}if(d=e(a,b))return d;var g=Object.keys(b),m=f(g);a.showHidden&&(g=Object.getOwnPropertyNames(b));if(B(b)&&(0<=g.indexOf("message")||0<=g.indexOf("description")))return r(b);if(0===g.length){if(C(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(y(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(F(b))return a.stylize(Date.prototype.toString.call(b),
"date");if(B(b))return r(b)}d="";var h=!1,q=["{","}"];p(b)&&(h=!0,q=["[","]"]);C(b)&&(d=" [Function"+(b.name?": "+b.name:"")+"]");y(b)&&(d=" "+RegExp.prototype.toString.call(b));F(b)&&(d=" "+Date.prototype.toUTCString.call(b));B(b)&&(d=" "+r(b));if(0===g.length&&(!h||0==b.length))return q[0]+d+q[1];if(0>c)return y(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);g=h?v(a,b,c,m,g):g.map(function(e){return n(a,b,c,m,e,h)});a.seen.pop();return w(g,
d,q)}function e(a,b){if(m(b))return a.stylize("undefined","undefined");if(x(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}if(u(b))return a.stylize(""+b,"number");if(t(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function r(a){return"["+Error.prototype.toString.call(a)+"]"}function v(a,b,c,e,d){for(var f=[],g=0,m=b.length;g<m;++g)Object.prototype.hasOwnProperty.call(b,String(g))?f.push(n(a,
b,c,e,String(g),!0)):f.push("");d.forEach(function(d){d.match(/^\d+$/)||f.push(n(a,b,c,e,d,!0))});return f}function n(a,b,c,e,d,f){var g,h;b=Object.getOwnPropertyDescriptor(b,d)||{value:b[d]};b.get?h=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):b.set&&(h=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(e,d)||(g="["+d+"]");h||(0>a.seen.indexOf(b.value)?(h=null===c?l(a,b.value,null):l(a,b.value,c-1),-1<h.indexOf("\n")&&(h=f?h.split("\n").map(function(a){return"  "+
a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special"));if(m(g)){if(f&&d.match(/^\d+$/))return h;g=JSON.stringify(""+d);g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function w(a,b,c){var e=0;return 60<a.reduce(function(a,b){e++;0<=b.indexOf("\n")&&e++;return a+b.replace(/\u001b\[\d\d?m/g,
"").length+1},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function p(a){return Array.isArray(a)}function t(a){return"boolean"===typeof a}function u(a){return"number"===typeof a}function x(a){return"string"===typeof a}function m(a){return void 0===a}function y(a){return z(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function z(a){return"object"===typeof a&&null!==a}function F(a){return z(a)&&"[object Date]"===Object.prototype.toString.call(a)}
function B(a){return z(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function C(a){return"function"===typeof a}function A(a){return 10>a?"0"+a.toString(10):a.toString(10)}function H(){var a=new Date,b=[A(a.getHours()),A(a.getMinutes()),A(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}var I=/%[sdj%]/g;k.format=function(a){if(!x(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(h(arguments[c]));return b.join(" ")}c=1;var e=arguments,d=e.length;
b=String(a).replace(I,function(a){if("%%"===a)return"%";if(c>=d)return a;switch(a){case "%s":return String(e[c++]);case "%d":return Number(e[c++]);case "%j":try{return JSON.stringify(e[c++])}catch(K){return"[Circular]"}default:return a}});for(var f=e[c];c<d;f=e[++c])b=null!==f&&z(f)?b+(" "+h(f)):b+(" "+f);return b};k.deprecate=function(b,e){if(m(c.process))return function(){return k.deprecate(b,e).apply(this,arguments)};if(!0===a.noDeprecation)return b;var d=!1;return function(){if(!d){if(a.throwDeprecation)throw Error(e);
a.traceDeprecation?console.trace(e):console.error(e);d=!0}return b.apply(this,arguments)}};var D={},G;k.debuglog=function(b){m(G)&&(G=a.env.NODE_DEBUG||"");b=b.toUpperCase();if(!D[b])if((new RegExp("\\b"+b+"\\b","i")).test(G)){var c=a.pid;D[b]=function(){var a=k.format.apply(k,arguments);console.error("%s %d: %s",b,c,a)}}else D[b]=function(){};return D[b]};k.inspect=h;h.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,
39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};h.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};k.isArray=p;k.isBoolean=t;k.isNull=function(a){return null===a};k.isNullOrUndefined=function(a){return null==a};k.isNumber=u;k.isString=x;k.isSymbol=function(a){return"symbol"===typeof a};k.isUndefined=m;k.isRegExp=y;k.isObject=z;k.isDate=F;k.isError=B;k.isFunction=C;k.isPrimitive=function(a){return null===
a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};k.isBuffer=b("./support/isBuffer");var J="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");k.log=function(){console.log("%s - %s",H(),k.format.apply(k,arguments))};k.inherits=b("inherits");k._extend=function(a,b){if(!b||!z(b))return a;for(var c=Object.keys(b),e=c.length;e--;)a[c[e]]=b[c[e]];return a}}).call(this,b("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?
self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":34,_process:23,inherits:33}],36:[function(b,l,k){k.VAST=b("./lib/VAST")},{"./lib/VAST":37}],37:[function(b,l,k){function a(){}function c(a){d(a,this,!0);this.ads.forEach(function(a){f({system:{version:null},errors:[]},a);a.creatives.forEach(function(a){f({id:null,sequence:null,adID:null},a);w[a.type](a)});n[a.type](a)});this.__private__={wrappers:[],inlines:[]}}var h=b("lie"),g=b("superagent"),d=b("./utils/copy"),f=b("./utils/defaults"),
q=b("./utils/extend"),e=b("./utils/nodeify_promise"),r=Array.prototype.push,v=b("./xml_from_vast"),n={inline:function(a){f({description:null,survey:null},a)},wrapper:function(){}},w={linear:function(a){f({trackingEvents:[],parameters:null,videoClicks:null},a);(a.mediaFiles||[]).forEach(function(a){f({id:null,bitrate:null,scalable:null,maintainAspectRatio:null,apiFramework:null},a)})},companions:function(a){a.companions.forEach(function(a){f({expandedWidth:null,expandedHeight:null,apiFramework:null,
trackingEvents:[],clickThrough:null,altText:null,parameters:null},a)})},nonLinear:function(a){f({trackingEvents:[]},a);a.ads.forEach(function(a){f({id:null,expandedWidth:null,expandedHeight:null,scalable:null,maintainAspectRatio:null,minSuggestedDuration:null,apiFramework:null,clickThrough:null,parameters:null},a)})}};Object.defineProperties(c.prototype,{wrappers:{get:function(){var a=this.__private__.wrappers;a.length=0;r.apply(a,this.filter("ads",function(a){return"wrapper"===a.type}));return a}},
inlines:{get:function(){var a=this.__private__.inlines;a.length=0;r.apply(a,this.filter("ads",function(a){return"inline"===a.type}));return a}}});c.prototype.get=function(a){return((a||"").match(/[^\[\]\.]+/g)||[]).reduce(function(a,b){return(a||void 0)&&a[b]},this)};c.prototype.set=function(a,b){function c(a,b){switch(a.input.charAt(b)){case ".":return Object;case "[":return Array;case "]":return c(a,b+1);default:return null}}var e=function(){for(var b=/[^\[\]\.]+/g,e=[],d;d=b.exec(a);)e.push({token:d[0],
type:c(d,d.index+d[0].length)});return e}(),d=e.pop();e=e.reduce(function(a,b){return a[b.token]||(a[b.token]=new b.type)},this);if(!a)throw Error("prop must be specified.");return e[d.token]=b};c.prototype.map=function(a,b){var c=this.get(a)||[],e=c.length,d=[];if(!(c instanceof Array))return d;for(var f=0;f<e;f++)d.push(b.call(this,c[f],f,c));return d};c.prototype.filter=function(a,b){var c=this.get(a)||[],e=c.length,d=[];if(!(c instanceof Array))return d;for(var f=0;f<e;f++)b.call(this,c[f],f,
c)&&d.push(c[f]);return d};c.prototype.find=function(a,b){var c=this.get(a)||[],e=c.length;if(c instanceof Array)for(var d=0;d<e;d++)if(b.call(this,c[d],d,c))return c[d]};c.prototype.toPOJO=function(){var a=JSON.parse(JSON.stringify(this));delete a.__private__;return a};c.prototype.copy=function(){return new this.constructor(this.toPOJO())};c.prototype.resolveWrappers=function(a,b){function c(a,b){function c(a){return function(b){return b.type===a}}var e=function(a){return{linear:a.filter(c("linear")),
companions:a.filter(c("companions")),nonLinear:a.filter(c("nonLinear"))}}(a.creatives);f(a.impressions,b.impressions);f(a.errors,b.errors);b.creatives.forEach(function(a){f(e[a.type].shift()||{},a)});r.apply(b.creatives,"wrapper"!==b.type?[]:["linear","companions","nonLinear"].reduce(function(a,b){return a.concat(e[b])},[]));return b}var d=isNaN(a)?Infinity:a,m="function"===typeof a?a:b,k=this.constructor,l=this;return 0===d?h.reject(Error("Too many redirects were made.")):e(h.all(this.map("wrappers",
function(a){return h.resolve(g.get(a.vastAdTagURI)).then(function(b){return{wrapper:a,response:k.pojoFromXML(b.text).ads}})})).then(function(a){var b=a.map(function(a){return a.wrapper}),e=a.map(function(a){return a.response});return new k(q(l.toPOJO(),{ads:l.map("ads",function(a){var d=b.indexOf(a),f=b[d];return(d=e[d])?d.map(c.bind(null,f)):[a]}).reduce(function(a,b){return a.concat(b)})}))}).then(function(a){return 0<a.get("wrappers.length")?a.resolveWrappers(d-1):a}),m)};c.prototype.toXML=function(){var a=
this.validate();if(!a.valid)throw Error("VAST is invalid: "+a.reasons.join(", "));return v(this)};c.prototype.validate=function(){function b(a){d.get(a)||f.push(a+" is required")}function c(a){0<d.get(a+".length")||f.push(a+" must contain at least one value")}function e(a,e){e.exists.map(a).forEach(b);e.atLeastOne.map(a).forEach(c)}var d=this,f=[],g={inline:function(b){var c={linear:function(a){e(a,{exists:["duration"],atLeastOne:["mediaFiles"]})},companions:function(a){d.get(a("companions")).forEach(function(b,
c){e(function(b){return a("companions["+c+"]."+b)},{exists:[],atLeastOne:["resources"]})})},nonLinear:function(a){d.get(a("ads")).forEach(function(b,c){e(function(b){return a("ads["+c+"]."+b)},{exists:[],atLeastOne:["resources"]})})}};e(b,{exists:["title"],atLeastOne:["creatives"]});d.get(b("creatives")).forEach(function(d,f){function g(a){return b("creatives["+f+"]."+a)}e(g,{exists:["type"],atLeastOne:[]});(c[d.type]||a)(g)})},wrapper:function(a){e(a,{exists:["vastAdTagURI"],atLeastOne:[]})}};e(function(a){return a},
{exists:[],atLeastOne:["ads"]});this.get("ads").forEach(function(b,c){function d(a){return"ads["+c+"]."+a}e(d,{exists:["type","system.name"],atLeastOne:["impressions"]});(g[b.type]||a)(d)});return{valid:0===f.length,reasons:0===f.length?null:f}};c.pojoFromXML=b("./pojo_from_xml");c.fetch=function(a,b,c){var d="object"===typeof b?b||{}:{};b="function"===typeof c?c:b;var f=this;return e(h.resolve(g.get(a).set(d.headers||{})).then(function(a){a=new f(f.pojoFromXML(a.text));return d.resolveWrappers?a.resolveWrappers(d.maxRedirects):
a}),b)};l.exports=c},{"./pojo_from_xml":38,"./utils/copy":40,"./utils/defaults":41,"./utils/extend":42,"./utils/nodeify_promise":43,"./xml_from_vast":50,lie:21,superagent:29}],38:[function(b,l,k){function a(a){return a[0]||{attributes:{}}}function c(a){return a.find("StaticResource,IFrameResource,HTMLResource").map(function(a){return{type:a.tag.replace(/Resource$/,"").toLowerCase(),creativeType:a.attributes.creativeType,data:a.value}})}var h=b("./utils/parse_xml"),g=b("./utils/timestamp_to_seconds"),
d=b("./utils/string_to_boolean"),f=b("./utils/extend"),q=b("./utils/trim_object"),e=b("./utils/numberify"),r={linear:function(b){var c=a(b.find("Duration")),f=b.find("Tracking"),h=a(b.find("AdParameters")),k=b.find("VideoClicks")[0];b=b.find("MediaFile");return{type:"linear",duration:g(c.value)||void 0,trackingEvents:f.map(function(a){return{event:a.attributes.event,uri:a.value}}),parameters:h.value,videoClicks:k&&function(){var b=a(k.find("ClickThrough")),c=k.find("ClickTracking"),e=k.find("CustomClick");
return{clickThrough:b.value,clickTrackings:c.map(function(a){return a.value}),customClicks:e.map(function(a){return{id:a.attributes.id,uri:a.value}})}}(),mediaFiles:b.map(function(a){var b=a.attributes;return{id:b.id,delivery:b.delivery,type:b.type,uri:a.value,bitrate:e(b.bitrate),width:e(b.width),height:e(b.height),scalable:d(b.scalable),maintainAspectRatio:d(b.maintainAspectRatio),apiFramework:b.apiFramework}})}},companions:function(b){return{type:"companions",companions:b.find("Companion").map(function(b){var d=
b.find("Tracking"),f=a(b.find("CompanionClickThrough")),g=a(b.find("AltText")),h=a(b.find("AdParameters"));return{id:b.attributes.id,width:e(b.attributes.width),height:e(b.attributes.height),expandedWidth:e(b.attributes.expandedWidth),expandedHeight:e(b.attributes.expandedHeight),apiFramework:b.attributes.apiFramework,resources:c(b),trackingEvents:d.map(function(a){return{event:a.attributes.event,uri:a.value}}),clickThrough:f.value,altText:g.value,parameters:h.value}})}},nonLinear:function(b){var f=
b.find("NonLinear");b=b.find("Tracking");return{type:"nonLinear",ads:f.map(function(b){var f=a(b.find("NonLinearClickThrough")),h=a(b.find("AdParameters"));return{id:b.attributes.id,width:e(b.attributes.width),height:e(b.attributes.height),expandedWidth:e(b.attributes.expandedWidth),expandedHeight:e(b.attributes.expandedHeight),scalable:d(b.attributes.scalable),maintainAspectRatio:d(b.attributes.maintainAspectRatio),minSuggestedDuration:g(b.attributes.minSuggestedDuration)||void 0,apiFramework:b.attributes.apiFramework,
resources:c(b),clickThrough:f.value,parameters:h.value}}),trackingEvents:b.map(function(a){return{event:a.attributes.event,uri:a.value}})}}},v={inline:function(b){var c=a(b.find("AdTitle")),e=a(b.find("Description"));b=a(b.find("Survey"));return{type:"inline",title:c.value,description:e.value,survey:b.value}},wrapper:function(b){return{type:"wrapper",vastAdTagURI:a(b.find("VASTAdTagURI")).value}}};l.exports=function(b){var c=h(b);if(!c("VAST")[0])throw Error("["+b+"] is not a valid VAST document.");
return q({version:a(c("VAST")).attributes.version,ads:c("Ad").map(function(b){var c=a(b.find("Wrapper,InLine")).tag.toLowerCase(),d=a(b.find("AdSystem")),g=b.find("Error"),h=b.find("Impression"),k=b.find("Creative");return f({id:b.attributes.id,system:{name:d.value,version:d.attributes.version},errors:g.map(function(a){return a.value}),impressions:h.map(function(a){return{uri:a.value,id:a.attributes.id}}),creatives:k.map(function(b){var c=function(){switch(a(b.find("Linear,CompanionAds,NonLinearAds")).tag){case "Linear":return"linear";
case "CompanionAds":return"companions";case "NonLinearAds":return"nonLinear"}}();return f({id:b.attributes.id,sequence:e(b.attributes.sequence),adID:b.attributes.AdID},r[c](b))})},v[c](b))})},!0)}},{"./utils/extend":42,"./utils/numberify":44,"./utils/parse_xml":45,"./utils/string_to_boolean":47,"./utils/timestamp_to_seconds":48,"./utils/trim_object":49}],39:[function(b,l,k){function a(a){return null!==a&&void 0!==a}function c(a){return void 0!==a?String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,
"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""}function h(a){for(var b="";a--;)b+=" ";return b}function g(a){return(void 0!==a?function(a){for(var b=[],c=/]]\x3e/g,e=0,d,f;d=c.exec(a);)f=d.index+2,b.push(d.input.substring(e,f)),e=f;b.push(a.substring(e,a.length));return b}(String(a)):[""]).reduce(function(a,b){return a+"<![CDATA["+b+"]]\x3e"},"")}function d(a){return a.cdata?g(a.value):c(a.value)}function f(b,e,g){var k=b.tag,l=b.attributes||{},q=Object.keys(l),p=b.value,r=0<(b.children||
[]).length;q=q.every(function(b){return a(l[b])})&&0<q.length;p=a(p)||r||q;q=h(e);var u="<"+k+Object.keys(l).reduce(function(b,e){return g&&!a(l[e])?b:b+" "+e+'="'+c(l[e])+'"'},"")+">";k="</"+k+">";return!g||p||b.required?r?[q+u].concat(b.children.reduce(function(a,b){return a.concat(f(b,e+4,g))},[]),[q+k]):[q+u+d(b)+k]:[]}l.exports=function(a,b){return['<?xml version="1.0" encoding="UTF-8"?>'].concat(f(a,0,b)).join("\n")}},{}],40:[function(b,l,k){function a(a,b,c){return Object.keys(a).reduce(function(b,
d){b[d]=c?h(a[d],null,!0):a[d];return b},b||{})}function c(a,b,c){b=b||[];g.apply(b,c?a.map(function(a){return h(a,null,!0)}):a);return b}function h(b,f,g){var e=("object"===typeof f||null)&&f;f="boolean"===typeof f?f:g;return Object(b)!==b?b:b instanceof Array?c(b,e,f):a(b,e,f)}var g=Array.prototype.push;l.exports=h},{}],41:[function(b,l,k){function a(a){return Object(a)===a}function c(a){return a instanceof Array}var h=Array.prototype.push;l.exports=function q(b,f){return[b,f].every(c)?(h.apply(f,
b.filter(function(a){return 0>f.indexOf(a)})),f):Object.keys(b).reduce(function(c,d){[b[d],c[d]].every(a)&&q(b[d],c[d]);d in c||(c[d]=b[d]);return c},f)}},{}],42:[function(b,l,k){l.exports=function(){return Array.prototype.slice.call(arguments).reduce(function(a,b){return Object.keys(b||{}).reduce(function(a,c){a[c]=b[c];return a},a)},{})}},{}],43:[function(b,l,k){l.exports=function(a,b){if("function"!==typeof b)return a;a.then(function(a){b(null,a)},function(a){b(a)});return a}},{}],44:[function(b,
l,k){l.exports=function(a){if(/string|number|boolean/.test(typeof a))return isNaN(a)?void 0:Number(a)}},{}],45:[function(b,l,k){function a(b){return{tag:b.tagName,value:0<b.childElementCount?null:b.textContent,attributes:g.call(b.attributes,function(a,b){a[b.name]=b.value;return a},{}),find:function(d){return c.call(b.querySelectorAll(d),a)},children:function(){return h.call(b.childNodes,function(a){return a instanceof Element}).map(a)}}}var c=Array.prototype.map,h=Array.prototype.filter,g=Array.prototype.reduce,
d=new DOMParser;l.exports=function(b){var f=d.parseFromString(b,"application/xml");return function(b){return c.call(f.querySelectorAll(b),a)}}},{}],46:[function(b,l,k){function a(a){return(9<a?"":"0")+a.toString()}l.exports=function(b){return Number(b)!==b?null:[Math.floor(b/60/60),Math.floor(b/60%60),Math.floor(b%60%60)].map(a).join(":")}},{}],47:[function(b,l,k){l.exports=function(a){switch((a||"").toLowerCase()){case "true":return!0;case "false":return!1}}},{}],48:[function(b,l,k){l.exports=function(a){return(a=
(a||"").match(/^(\d\d):(\d\d):(\d\d)$/))&&a.slice(1,4).map(parseFloat).reduce(function(a,b,g){return a+b*Math.pow(60,Math.abs(g-2))},0)}},{}],49:[function(b,l,k){l.exports=function g(b,h){return Object(b)!==b?b:Object.keys(b).reduce(function(c,f){h&&b[f]instanceof Array?c[f]=b[f].filter(function(b){return void 0!==b}).map(function(b){return g(b,!0)}):h&&b[f]instanceof Object?c[f]=g(b[f],!0):void 0!==b[f]&&(c[f]=b[f]);return c},{})}},{}],50:[function(b,l,k){function a(a){return{tag:"TrackingEvents",
children:a.map(function(a){return{tag:"Tracking",attributes:{event:a.event},value:a.uri,cdata:!0}})}}function c(a){return a.map(function(a){a:{switch(a.type){case "static":var b="StaticResource";break a;case "iframe":b="IFrameResource";break a;case "html":b="HTMLResource";break a}b=void 0}return{tag:b,attributes:{creativeType:a.creativeType},value:a.data,cdata:!0}})}function h(a){return{tag:"AdParameters",value:a.parameters}}var g=b("./utils/seconds_to_timestamp"),d=b("./utils/compile_xml"),f={linear:function(b){return{tag:"Linear",
children:[{tag:"Duration",value:g(b.duration)},a(b.trackingEvents),h(b)].concat(b.videoClicks?[{tag:"VideoClicks",children:[{tag:"ClickThrough",value:b.videoClicks.clickThrough,cdata:!0}].concat(b.videoClicks.clickTrackings.map(function(a){return{tag:"ClickTracking",value:a,cdata:!0}}),b.videoClicks.customClicks.map(function(a){return{tag:"CustomClick",attributes:{id:a.id},value:a.uri,cdata:!0}}))}]:[],[{tag:"MediaFiles",children:b.mediaFiles.map(function(a){return{tag:"MediaFile",attributes:{id:a.id,
width:a.width,height:a.height,bitrate:a.bitrate,type:a.type,delivery:a.delivery,scalable:a.scalable,maintainAspectRatio:a.maintainAspectRatio,apiFramework:a.apiFramework},value:a.uri,cdata:!0}})}])}},companions:function(b){return{tag:"CompanionAds",children:b.companions.map(function(b){return{tag:"Companion",attributes:{id:b.id,width:b.width,height:b.height,expandedWidth:b.expandedWidth,expandedHeight:b.expandedHeight,apiFramework:b.apiFramework},children:c(b.resources).concat([a(b.trackingEvents),
{tag:"CompanionClickThrough",value:b.clickThrough,cdata:!0},{tag:"AltText",value:b.altText},h(b)])}})}},nonLinear:function(b){return{tag:"NonLinearAds",children:b.ads.map(function(a){return{tag:"NonLinear",attributes:{id:a.id,width:a.width,height:a.height,expandedWidth:a.expandedWidth,expandedHeight:a.expandedHeight,scalable:a.scalable,maintainAspectRatio:a.maintainAspectRatio,minSuggestedDuration:g(a.minSuggestedDuration),apiFramework:a.apiFramework},children:c(a.resources).concat([{tag:"NonLinearClickThrough",
value:a.clickThrough,cdata:!0},h(a)])}}).concat([a(b.trackingEvents)])}}};l.exports=function(a){return d({tag:"VAST",attributes:{version:a.get("version")},children:a.map("ads",function(a){var b={id:a.id};a:{switch(a.type){case "inline":var c="InLine";break a;case "wrapper":c="Wrapper";break a}c=void 0}return{tag:"Ad",attributes:b,children:[{tag:c,children:[{tag:"AdSystem",attributes:{version:a.system.version},value:a.system.name},{tag:"AdTitle",value:a.title},{tag:"Description",value:a.description},
{tag:"Survey",value:a.survey,cdata:!0},{tag:"VASTAdTagURI",value:a.vastAdTagURI,cdata:!0}].concat(a.errors.map(function(a){return{tag:"Error",value:a,cdata:!0}}),a.impressions.map(function(a){return{tag:"Impression",value:a.uri,cdata:!0,attributes:{id:a.id}}}),[{tag:"Creatives",children:a.creatives.map(function(a){return{tag:"Creative",attributes:{id:a.id,sequence:a.sequence,AdID:a.adID},children:[f[a.type](a)]}}),required:!0}])}]}})},!0)}},{"./utils/compile_xml":39,"./utils/seconds_to_timestamp":46}]},
{},[1])(1)});